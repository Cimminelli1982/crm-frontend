/*! For license information please see main.7beee796.js.LICENSE.txt */
"use strict";(self.webpackChunkcontact_dashboard=self.webpackChunkcontact_dashboard||[]).push([[792],{3743:(n,e,t)=>{var r,o,i=t(6540),a=t(5338),c=(t(2675),t(9463),t(2259),t(3418),t(3792),t(4782),t(2010),t(2811),t(7495),t(7764),t(2953),t(4423),t(6099),t(8781),t(1699),t(7767)),s=t(4976),l=t(1250),d=t(888),u=(t(8706),t(2062),t(2644)),h=t(4848);function p(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var f=l.Ay.div(r||(r=p(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),m=l.Ay.img(o||(o=p(["\n  height: ",";\n  width: auto;\n  object-fit: contain;\n"])),(function(n){return n.size||"32px"}));const x=function(n){var e=n.isCollapsed,t=void 0!==e&&e,r=n.size,o=void 0===r?"32px":r,i="".concat("/new-crm",t?"/logosmallmanu.jpeg":"/cimminelli-logo.jpeg");return(0,h.jsx)(f,{children:(0,h.jsx)(m,{src:i,alt:t?"Cimminelli Logo Small":"Cimminelli Logo",size:o})})};var g,b,y,v,j,w,_,A,F,k,C,E,S,B,z,O,$,T,D,I,P,q,R,M,N,G;function W(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function L(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return U(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?U(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var Y=l.Ay.div(g||(g=W(["\n  @media (min-width: 768px) {\n    display: none;\n  }\n"]))),K=l.Ay.div(b||(b=W(["\n  display: ",";\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 998;\n"])),(function(n){return n.$isOpen?"block":"none"})),H=l.Ay.nav(y||(y=W(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 80px;\n  background: ",";\n  border-top: 1px solid ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 8px 16px 20px 16px;\n  z-index: 999;\n  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),X=l.Ay.button(v||(v=W(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px 4px;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n  flex: 1;\n  max-width: 80px;\n\n  ","\n\n  &:active {\n    transform: scale(0.95);\n  }\n"])),(function(n){return n.$isActive&&"\n    background: ".concat("light"===n.theme?n.$isTrash?"rgba(239, 68, 68, 0.1)":"rgba(59, 130, 246, 0.1)":n.$isTrash?"rgba(248, 113, 113, 0.15)":"rgba(96, 165, 250, 0.15)",";\n  ")})),V=l.Ay.div(j||(j=W(["\n  color: ",";\n  transition: all 0.2s ease;\n"])),(function(n){return n.$isActive?n.$isTrash?"light"===n.theme?"#EF4444":"#F87171":"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#6B7280":"#9CA3AF"})),J=l.Ay.span(w||(w=W(["\n  font-size: 11px;\n  font-weight: ",";\n  color: ",";\n  text-align: center;\n  line-height: 1.2;\n"])),(function(n){return n.$isActive?"600":"500"}),(function(n){return n.$isActive?n.$isTrash?"light"===n.theme?"#EF4444":"#F87171":"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#6B7280":"#9CA3AF"})),Q=l.Ay.nav(_||(_=W(["\n  display: none;\n\n  @media (min-width: 768px) and (max-width: 1024px) {\n    display: flex;\n    flex-direction: column;\n    position: fixed;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 280px;\n    background: ",";\n    border-right: 1px solid ",";\n    z-index: 100;\n    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),Z=l.Ay.div(A||(A=W(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 24px;\n  border-bottom: 1px solid ",";\n  min-height: 100px;\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),nn=l.Ay.div(F||(F=W(["\n  flex: 1;\n  padding: 16px;\n  overflow-y: auto;\n"]))),en=l.Ay.button(k||(k=W(["\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  width: 100%;\n  padding: 16px;\n  background: none;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  margin-bottom: 4px;\n  text-align: left;\n\n  ","\n\n  &:hover {\n    background: ",";\n    ","\n  }\n"])),(function(n){return n.$isActive&&"\n    background: ".concat("light"===n.theme?n.$isTrash?"rgba(239, 68, 68, 0.1)":"rgba(59, 130, 246, 0.1)":n.$isTrash?"rgba(248, 113, 113, 0.15)":"rgba(96, 165, 250, 0.15)",";\n  ")}),(function(n){return"light"===n.theme?"#F9FAFB":"#374151"}),(function(n){return n.$isActive&&"\n      background: ".concat("light"===n.theme?n.$isTrash?"rgba(239, 68, 68, 0.15)":"rgba(59, 130, 246, 0.15)":n.$isTrash?"rgba(248, 113, 113, 0.2)":"rgba(96, 165, 250, 0.2)",";\n    ")})),tn=l.Ay.div(C||(C=W(["\n  color: ",";\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n"])),(function(n){return n.$isActive?n.$isTrash?"light"===n.theme?"#EF4444":"#F87171":"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#6B7280":"#9CA3AF"})),rn=l.Ay.div(E||(E=W(["\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  flex: 1;\n"]))),on=l.Ay.span(S||(S=W(["\n  font-size: 15px;\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.$isActive?"600":"500"}),(function(n){return n.$isActive?n.$isTrash?"light"===n.theme?"#EF4444":"#F87171":"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#111827":"#F9FAFB"})),an=l.Ay.span(B||(B=W(["\n  font-size: 13px;\n  color: ",";\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),cn=l.Ay.nav(z||(z=W(["\n  display: none;\n\n  @media (min-width: 1025px) {\n    display: flex;\n    flex-direction: column;\n    position: fixed;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: ",";\n    background: ",";\n    border-right: 1px solid ",";\n    transition: width 0.3s ease;\n    z-index: 100;\n    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);\n  }\n"])),(function(n){return n.$isCollapsed?"80px":"320px"}),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),sn=l.Ay.div(O||(O=W(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 24px;\n  border-bottom: 1px solid ",";\n  min-height: 120px;\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),ln=l.Ay.div($||($=W(["\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n"]))),dn=l.Ay.div(T||(T=W(["\n  padding: 20px;\n  border-top: 1px solid ",";\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),un=l.Ay.button(D||(D=W(["\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  width: 100%;\n  padding: ",";\n  background: none;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  margin-bottom: 6px;\n  text-align: left;\n  position: relative;\n  justify-content: ",";\n\n  ","\n\n  &:hover {\n    background: ",";\n    transform: translateX(2px);\n\n    ","\n  }\n"])),(function(n){return n.$isCollapsed?"16px":"18px"}),(function(n){return n.$isCollapsed?"center":"flex-start"}),(function(n){return n.$isActive&&"\n    background: ".concat("light"===n.theme?n.$isTrash?"rgba(239, 68, 68, 0.1)":"rgba(59, 130, 246, 0.1)":n.$isTrash?"rgba(248, 113, 113, 0.15)":"rgba(96, 165, 250, 0.15)",";\n    border: 1px solid ").concat("light"===n.theme?n.$isTrash?"rgba(239, 68, 68, 0.2)":"rgba(59, 130, 246, 0.2)":n.$isTrash?"rgba(248, 113, 113, 0.3)":"rgba(96, 165, 250, 0.3)",";\n  ")}),(function(n){return"light"===n.theme?"#F9FAFB":"#374151"}),(function(n){return n.$isActive&&"\n      background: ".concat("light"===n.theme?n.$isTrash?"rgba(239, 68, 68, 0.15)":"rgba(59, 130, 246, 0.15)":n.$isTrash?"rgba(248, 113, 113, 0.2)":"rgba(96, 165, 250, 0.2)",";\n    ")})),hn=l.Ay.div(I||(I=W(["\n  color: ",";\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n"])),(function(n){return n.$isActive?n.$isTrash?"light"===n.theme?"#EF4444":"#F87171":"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#6B7280":"#9CA3AF"})),pn=l.Ay.div(P||(P=W(["\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n  flex: 1;\n"]))),fn=l.Ay.span(q||(q=W(["\n  font-size: 16px;\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.$isActive?"600":"500"}),(function(n){return n.$isActive?n.$isTrash?"light"===n.theme?"#EF4444":"#F87171":"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#111827":"#F9FAFB"})),mn=l.Ay.span(R||(R=W(["\n  font-size: 14px;\n  color: ",";\n  line-height: 1.3;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),xn=(l.Ay.div(M||(M=W(["\n  font-size: ",";\n  font-weight: 800;\n  color: ",";\n  transition: all 0.3s ease;\n\n  @media (min-width: 768px) and (max-width: 1024px) {\n    font-size: 22px;\n  }\n"])),(function(n){return n.$isCollapsed?"18px":"24px"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"})),l.Ay.button(N||(N=W(["\n  background: none;\n  border: 1px solid ",";\n  color: ",";\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  @media (min-width: 768px) and (max-width: 1024px) {\n    display: none;\n  }\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"}),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"}),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#374151":"#F9FAFB"}))),gn=l.Ay.button(G||(G=W(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n  padding: 12px 16px;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 8px;\n  color: ",";\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n  font-weight: 500;\n\n  &:hover {\n    background: ",";\n  }\n"])),(function(n){return"light"===n.theme?"#F9FAFB":"#374151"}),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}),(function(n){return"light"===n.theme?"#374151":"#F9FAFB"}),(function(n){return"light"===n.theme?"#F3F4F6":"#4B5563"}));const bn=function(n){var e=n.currentPage,t=void 0===e?"search":e,r=n.onNavigate,o=n.theme,a=void 0===o?"light":o,c=n.onThemeToggle,s=n.onCollapseChange,l=n.initialCollapsed,d=void 0!==l&&l,p=L((0,i.useState)(d),2),f=p[0],m=p[1],g=L((0,i.useState)(!1),2),b=g[0],y=g[1],v=[{id:"inbox",label:"Inbox",icon:u._Y7,path:"/inbox",description:"New contacts to categorize"},{id:"interactions",label:"Last Interactions",icon:u.Ohp,path:"/interactions",description:"Recent contact activity"},{id:"search",label:"Search",icon:u.CKj,path:"/search",description:"Find contacts by name, company, or details"},{id:"keep-in-touch",label:"Keep in Touch",icon:u.zd,path:"/keep-in-touch",description:"Follow-up reminders"},{id:"trash",label:"Trash",icon:u.IXo,path:"/trash",description:"Spam and skipped contacts"}],j=function(n){r&&r(n.id,n.path),y(!1)},w=function(){var n=!f;m(n),s&&s(n),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("navCollapseChange",{detail:{collapsed:n}}))};return(0,i.useEffect)((function(){m(d)}),[d]),(0,i.useEffect)((function(){var n=function(n){b&&!n.target.closest(".mobile-nav-container")&&y(!1)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}}),[b]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(Y,{theme:a,className:"mobile-nav-container",children:[(0,h.jsx)(K,{$isOpen:b,onClick:function(){return y(!1)}}),(0,h.jsx)(H,{theme:a,children:v.map((function(n){var e=n.icon,r=t===n.id;return(0,h.jsxs)(X,{theme:a,$isActive:r,$isTrash:"trash"===n.id,onClick:function(){return j(n)},children:[(0,h.jsx)(V,{theme:a,$isActive:r,$isTrash:"trash"===n.id,children:(0,h.jsx)(e,{size:20})}),(0,h.jsx)(J,{theme:a,$isActive:r,$isTrash:"trash"===n.id,children:n.label})]},n.id)}))})]}),(0,h.jsxs)(Q,{theme:a,children:[(0,h.jsxs)(Z,{theme:a,children:[(0,h.jsx)(x,{isCollapsed:!1,size:"60px"}),(0,h.jsx)(xn,{theme:a,onClick:w,children:f?(0,h.jsx)(u.fOo,{size:20}):(0,h.jsx)(u.irw,{size:20})})]}),(0,h.jsx)(nn,{children:v.map((function(n){var e=n.icon,r=t===n.id;return(0,h.jsxs)(en,{theme:a,$isActive:r,$isTrash:"trash"===n.id,$isCollapsed:f,onClick:function(){return j(n)},title:f?n.description:"",children:[(0,h.jsx)(tn,{theme:a,$isActive:r,$isTrash:"trash"===n.id,children:(0,h.jsx)(e,{size:22})}),!f&&(0,h.jsxs)(rn,{children:[(0,h.jsx)(on,{theme:a,$isActive:r,$isTrash:"trash"===n.id,children:n.label}),(0,h.jsx)(an,{theme:a,children:n.description})]})]},n.id)}))})]}),(0,h.jsxs)(cn,{theme:a,$isCollapsed:f,children:[(0,h.jsxs)(sn,{theme:a,$isCollapsed:f,children:[(0,h.jsx)(x,{isCollapsed:f,size:f?"24px":"80px"}),(0,h.jsx)(xn,{theme:a,onClick:w,$isCollapsed:f,children:f?(0,h.jsx)(u.fOo,{size:18}):(0,h.jsx)(u.irw,{size:18})})]}),(0,h.jsx)(ln,{children:v.map((function(n){var e=n.icon,r=t===n.id;return(0,h.jsxs)(un,{theme:a,$isActive:r,$isTrash:"trash"===n.id,$isCollapsed:f,onClick:function(){return j(n)},title:f?"".concat(n.label," - ").concat(n.description):"",children:[(0,h.jsx)(hn,{theme:a,$isActive:r,$isTrash:"trash"===n.id,children:(0,h.jsx)(e,{size:20})}),!f&&(0,h.jsxs)(pn,{children:[(0,h.jsx)(fn,{theme:a,$isActive:r,$isTrash:"trash"===n.id,children:n.label}),(0,h.jsx)(mn,{theme:a,children:n.description})]})]},n.id)}))}),(0,h.jsx)(dn,{theme:a,children:!f&&(0,h.jsxs)(gn,{theme:a,onClick:c,children:["light"===a?"ðŸŒ™":"â˜€ï¸"," ","light"===a?"Dark":"Light"," Mode"]})})]})]})};t(5700),t(9572),t(8130),t(3851),t(1278),t(875),t(9432),t(287),t(3500),t(2008),t(6910),t(3362),t(5440),t(2762);var yn,vn,jn,wn,_n,An,Fn,kn,Cn,En,Sn,Bn,zn,On,$n,Tn,Dn,In,Pn,qn,Rn,Mn,Nn,Gn,Wn,Ln,Un,Yn,Kn,Hn,Xn,Vn,Jn,Qn,Zn,ne,ee,te,re,oe,ie,ae,ce,se,le,de,ue,he,pe,fe,me,xe,ge,be,ye,ve,je=(0,t(4303).UU)("https://efazuvegwxouysfcgwja.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmYXp1dmVnd3hvdXlzZmNnd2phIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU5Mjk1MjcsImV4cCI6MjA1MTUwNTUyN30.1G5n0CyQEHGeE1XaJld_PbpstUFd0Imaao6N8MUmfvE"),we=t(1612),_e=t(312),Ae=t.n(_e);function Fe(n){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fe(n)}function ke(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Ce(){Ce=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(n,e,t,r){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r})}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype);return s(a,"_invoke",function(e,t,r){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var l=d(e,t,r);if("normal"===l.type){if(o=r.done?4:2,l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=4,r.method="throw",r.arg=l.arg)}}}(e,r,new A(o||[])),!0),a}function d(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}e.wrap=l;var u={};function h(){}function p(){}function f(){}var m={};s(m,i,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(F([])));g&&g!==t&&r.call(g,i)&&(m=g);var b=f.prototype=h.prototype=Object.create(m);function y(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function v(n,e){function t(o,i,a,c){var s=d(n[o],n,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Fe(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(n){t("next",n,a,c)}),(function(n){t("throw",n,a,c)})):e.resolve(u).then((function(n){l.value=n,a(l)}),(function(n){return t("throw",n,a,c)}))}c(s.arg)}var o;s(this,"_invoke",(function(n,r){function i(){return new e((function(e,o){t(n,r,e,o)}))}return o=o?o.then(i,i):i()}),!0)}function j(e,t){var r=t.method,o=e.i[r];if(o===n)return t.delegate=null,"throw"===r&&e.i.return&&(t.method="return",t.arg=n,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var i=d(o,e.i,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.r]=a.value,t.next=e.n,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(n){this.tryEntries.push(n)}function _(e){var t=e[4]||{};t.type="normal",t.arg=n,e[4]=t}function A(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function F(e){if(null!=e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(Fe(e)+" is not iterable")}return p.prototype=f,s(b,"constructor",f),s(f,"constructor",p),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,s(n,c,"GeneratorFunction")),n.prototype=Object.create(b),n},e.awrap=function(n){return{__await:n}},y(v.prototype),s(v.prototype,a,(function(){return this})),e.AsyncIterator=v,e.async=function(n,t,r,o,i){void 0===i&&(i=Promise);var a=new v(l(n,t,r,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(n){var e=Object(n),t=[];for(var r in e)t.unshift(r);return function n(){for(;t.length;)if((r=t.pop())in e)return n.value=r,n.done=!1,n;return n.done=!0,n}},e.values=F,A.prototype={constructor:A,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n){a.type="throw",a.arg=e,t.next=n}for(var o=t.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],c=this.prev,s=i[1],l=i[2];if(-1===i[0])return r("end"),!1;if(!s&&!l)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=c){if(c<s)return this.method="next",this.arg=n,r(s),!0;if(c<l)return r(l),!1}}},abrupt:function(n,e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===n||"continue"===n)&&o[0]<=e&&e<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=e,o?(this.method="next",this.next=o[2],u):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),u},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[2]===n)return this.complete(t[4],t[3]),_(t),u}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[0]===n){var r=t[4];if("throw"===r.type){var o=r.arg;_(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={i:F(e),r:t,n:r},"next"===this.method&&(this.arg=n),u}},e}function Ee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function Se(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(t),!0).forEach((function(e){Be(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function Be(n,e,t){return(e=function(n){var e=function(n){if("object"!=Fe(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Fe(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Fe(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ze(n,e,t,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function Oe(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){ze(i,r,o,a,c,"next",n)}function c(n){ze(i,r,o,a,c,"throw",n)}a(void 0)}))}}function $e(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,e)||Te(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(n,e){if(n){if("string"==typeof n)return De(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?De(n,e):void 0}}function De(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}Ae().setAppElement("#root");var Ie=l.Ay.div(yn||(yn=ke(["\n  min-height: 100vh;\n  background: ",";\n  transition: background-color 0.3s ease;\n"])),(function(n){return"light"===n.theme?"#F9FAFB":"#111827"})),Pe=l.Ay.div(vn||(vn=ke(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]))),qe=l.Ay.div(jn||(jn=ke(["\n  background: ",";\n  border-bottom: 1px solid ",";\n  padding: 24px 20px;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),Re=l.Ay.div(wn||(wn=ke(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),Me=l.Ay.div(_n||(_n=ke(["\n  flex: 1;\n"]))),Ne=l.Ay.h1(An||(An=ke(["\n  font-size: 28px;\n  font-weight: 700;\n  color: ",";\n  margin: 0 0 8px 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Ge=l.Ay.p(Fn||(Fn=ke(["\n  color: ",";\n  margin: 0;\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),We=l.Ay.button(kn||(kn=ke(["\n  background: ",";\n  color: white;\n  border: none;\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  ","\n\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"}),(function(n){return n.$isRefreshing&&"\n    svg {\n      animation: spin 1s linear infinite;\n    }\n  "})),Le=l.Ay.div(Cn||(Cn=ke(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 60px 20px;\n"]))),Ue=l.Ay.div(En||(En=ke(["\n  width: 24px;\n  height: 24px;\n  border: 3px solid #E5E7EB;\n  border-top: 3px solid #3B82F6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n"]))),Ye=l.Ay.span(Sn||(Sn=ke(["\n  color: ",";\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Ke=l.Ay.div(Bn||(Bn=ke(["\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  max-width: 1200px;\n  margin: 0 auto;\n  width: 100%;\n"]))),He=l.Ay.div(zn||(zn=ke(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  transition: all 0.2s ease;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  display: flex;\n  gap: 20px;\n  align-items: center;\n\n  &:hover {\n    border-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"})),Xe=l.Ay.div(On||(On=ke(["\n  flex: 1;\n  cursor: pointer;\n  min-width: 0;\n"]))),Ve=l.Ay.div($n||($n=ke(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n"]))),Je=l.Ay.div(Tn||(Tn=ke(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #F3F4F6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12px;\n  flex-shrink: 0;\n  border: 2px solid #E5E7EB;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9CA3AF;\n    font-size: 20px;\n  }\n"]))),Qe=l.Ay.div(Dn||(Dn=ke(["\n  flex: 1;\n  min-width: 0;\n"]))),Ze=l.Ay.div(In||(In=ke(["\n  font-weight: 600;\n  color: ",";\n  font-size: 18px;\n  margin-bottom: 4px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),nt=l.Ay.div(Pn||(Pn=ke(["\n  background: ",";\n  color: white;\n  font-size: 10px;\n  font-weight: 500;\n  padding: 2px 6px;\n  border-radius: 6px;\n  min-width: fit-content;\n  text-align: center;\n  white-space: nowrap;\n"])),(function(n){var e=n.children;return"today"===e?"#10B981":"this week"===e?"#F59E0B":"this month"===e?"#F97316":"#EF4444"})),et=l.Ay.div(qn||(qn=ke(["\n  color: ",";\n  font-size: 14px;\n  margin-bottom: 4px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),tt=l.Ay.div(Rn||(Rn=ke(["\n  color: ",";\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  svg {\n    font-size: 12px;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),rt=l.Ay.div(Mn||(Mn=ke(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n"]))),ot=l.Ay.div(Nn||(Nn=ke(["\n  color: ",";\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  svg {\n    font-size: 12px;\n    flex-shrink: 0;\n  }\n\n  span {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),it=l.Ay.div(Gn||(Gn=ke(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  align-items: flex-end;\n"]))),at=(l.Ay.div(Wn||(Wn=ke(["\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n"]))),l.Ay.button(Ln||(Ln=ke(["\n  background: ",";\n  color: white;\n  border: none;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n"])),(function(n){return n.$color})),l.Ay.button(Un||(Un=ke(["\n  background: ",";\n  color: white;\n  border: none;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    transform: scale(1.1);\n    background: ",";\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n"])),(function(n){return n.$edit?"#10B981":n.$skip?"#F59E0B":n.$delete?"#EF4444":"#6B7280"}),(function(n){return n.$edit?"#059669":n.$skip?"#D97706":n.$delete?"#DC2626":"#4B5563"}))),ct=l.Ay.div(Yn||(Yn=ke(["\n  text-align: center;\n  padding: 80px 20px;\n"]))),st=l.Ay.div(Kn||(Kn=ke(["\n  font-size: 64px;\n  margin-bottom: 20px;\n"]))),lt=l.Ay.h3(Hn||(Hn=ke(["\n  font-size: 20px;\n  font-weight: 600;\n  color: ",";\n  margin: 0 0 12px 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),dt=l.Ay.p(Xn||(Xn=ke(["\n  color: ",";\n  margin: 0;\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),ut=l.Ay.div(Vn||(Vn=ke(["\n  height: 100vh;\n  background: ",";\n  display: flex;\n  flex-direction: column;\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"})),ht=l.Ay.div(Jn||(Jn=ke(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid ",";\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: ",";\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"}),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"})),pt=l.Ay.button(Qn||(Qn=ke(["\n  background: none;\n  border: none;\n  color: ",";\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 0;\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"])),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"})),ft=l.Ay.div(Zn||(Zn=ke(["\n  display: flex;\n  gap: 8px;\n"]))),mt=l.Ay.a(ne||(ne=ke(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 16px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  text-decoration: none;\n  transition: all 0.2s ease;\n\n  ","\n\n  ","\n"])),(function(n){return n.$primary&&"\n    background: #3B82F6;\n    color: white;\n\n    &:hover {\n      background: #2563EB;\n      color: white;\n    }\n  "}),(function(n){return n.$secondary&&"\n    background: #10B981;\n    color: white;\n\n    &:hover {\n      background: #059669;\n      color: white;\n    }\n  "})),xt=l.Ay.div(ee||(ee=ke(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px 20px;\n"]))),gt=l.Ay.div(te||(te=ke(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid ",";\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),bt=l.Ay.div(re||(re=ke(["\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: #F3F4F6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 16px;\n  flex-shrink: 0;\n  border: 3px solid #E5E7EB;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9CA3AF;\n    font-size: 32px;\n  }\n"]))),yt=l.Ay.div(oe||(oe=ke(["\n  flex: 1;\n"]))),vt=l.Ay.div(ie||(ie=ke(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 6px;\n"]))),jt=l.Ay.h2(ae||(ae=ke(["\n  font-size: 24px;\n  font-weight: 700;\n  color: ",";\n  margin: 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),wt=l.Ay.div(ce||(ce=ke(["\n  color: ",";\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),_t=l.Ay.button(se||(se=ke(["\n  background: #8B5CF6;\n  color: white;\n  border: none;\n  padding: 8px 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n\n  &:hover {\n    background: #7C3AED;\n    transform: translateY(-1px);\n  }\n"]))),At=l.Ay.div(le||(le=ke(["\n  margin-bottom: 32px;\n"]))),Ft=l.Ay.h3(de||(de=ke(["\n  font-size: 18px;\n  font-weight: 600;\n  color: ",";\n  margin: 0 0 16px 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid ",";\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),kt=l.Ay.div(ue||(ue=ke(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 12px;\n"]))),Ct=l.Ay.button(he||(he=ke(["\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 12px;\n  padding: 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n\n  &:hover {\n    border-color: ",";\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#374151"}),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}),(function(n){return n.$color})),Et=l.Ay.div(pe||(pe=ke(["\n  background: ",";\n  color: white;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n"])),(function(n){return n.$color})),St=l.Ay.span(fe||(fe=ke(["\n  font-size: 14px;\n  font-weight: 500;\n  color: ",";\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Bt=l.Ay.div(me||(me=ke(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid ",";\n\n  h2 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n  }\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),zt=l.Ay.button(xe||(xe=ke(["\n  background: none;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  font-size: 20px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"}),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Ot=l.Ay.div(ge||(ge=ke(["\n  margin-bottom: 20px;\n  font-size: 16px;\n  color: ",";\n  line-height: 1.5;\n"])),(function(n){return"light"===n.theme?"#374151":"#D1D5DB"})),$t=l.Ay.div(be||(be=ke(["\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n"]))),Tt=l.Ay.button(ye||(ye=ke(["\n  background: #3B82F6;\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #2563EB;\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"]))),Dt=l.Ay.button(ve||(ve=ke(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: ",";\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#374151":"#F9FAFB"}),(function(n){return"light"===n.theme?"#D1D5DB":"#4B5563"}),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}));const It=function(n){var e,t,r,o,a=n.theme,c=$e((0,i.useState)([]),2),s=c[0],l=c[1],p=$e((0,i.useState)(!0),2),f=p[0],m=p[1],x=$e((0,i.useState)(null),2),g=x[0],b=x[1],y=$e((0,i.useState)(!1),2),v=y[0],j=y[1],w=$e((0,i.useState)(""),2),_=(w[0],w[1],$e((0,i.useState)("all"),2)),A=(_[0],_[1],$e((0,i.useState)("all"),2)),F=(A[0],A[1],$e((0,i.useState)(!1),2)),k=F[0],C=F[1],E=$e((0,i.useState)(null),2),S=E[0],B=E[1],z=$e((0,i.useState)(""),2),O=z[0],$=z[1],T=$e((0,i.useState)(!1),2),D=T[0],I=T[1],P=$e((0,i.useState)(!1),2),q=(P[0],P[1]),R=$e((0,i.useState)(null),2),M=(R[0],R[1]),N=$e((0,i.useState)({}),2),G=(N[0],N[1]),W=$e((0,i.useState)({deleteInteractions:!0,deleteEmails:!0,deleteEmailParticipants:!0,deleteEmailThreads:!0,deleteTags:!0,deleteCities:!0,deleteCompanies:!0,deleteNotes:!0,deleteAttachments:!0,deleteContactEmails:!0,deleteContactMobiles:!0,deleteChat:!0,deleteContactChats:!0,deleteDeals:!0,deleteMeetings:!0,deleteInvestments:!0,deleteKit:!0,addToSpam:!0,addMobileToSpam:!0}),2),L=(W[0],W[1],$e((0,i.useState)(!1),2)),U=(L[0],L[1],function(){var n=Oe(Ce().mark((function n(){var e,t,r,o,i,a;return Ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m(!0),n.prev=1,e=new Date("2025-06-25"),t=e.toISOString(),n.next=6,je.from("contacts").select("\n          *,\n          contact_emails (email, type, is_primary),\n          contact_mobiles (mobile, type, is_primary),\n          contact_companies (\n            company_id,\n            relationship,\n            is_primary,\n            companies (name, website, category)\n          ),\n          contact_tags (\n            tags (name)\n          ),\n          contact_cities (\n            cities (name, country)\n          )\n        ").eq("category","Inbox").gte("last_interaction_at",t).order("last_interaction_at",{ascending:!1}).limit(100);case 6:if(r=n.sent,o=r.data,!(i=r.error)){n.next=11;break}throw i;case 11:a=o.map((function(n){var e,t,r;return Se(Se({},n),{},{emails:n.contact_emails||[],mobiles:n.contact_mobiles||[],companies:(null===(e=n.contact_companies)||void 0===e?void 0:e.map((function(n){return n.companies})).filter(Boolean))||[],tags:(null===(t=n.contact_tags)||void 0===t?void 0:t.map((function(n){var e;return null===(e=n.tags)||void 0===e?void 0:e.name})).filter(Boolean))||[],cities:(null===(r=n.contact_cities)||void 0===r?void 0:r.map((function(n){return n.cities})).filter(Boolean))||[]})})),l(a),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(1),console.error("Error fetching inbox contacts:",n.t0),d.oR.error("Failed to load inbox contacts");case 19:return n.prev=19,m(!1),n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[1,15,19,22]])})));return function(){return n.apply(this,arguments)}}());(0,i.useEffect)((function(){U();var n=setInterval((function(){U()}),3e4);return function(){return clearInterval(n)}}),[]);var Y=function(){var n=Oe(Ce().mark((function n(){return Ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(!0),n.next=3,U();case 3:setTimeout((function(){return j(!1)}),1e3);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),K=function(){var n=Oe(Ce().mark((function n(){var e,t;return Ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S&&O){n.next=2;break}return n.abrupt("return");case 2:return I(!0),n.prev=3,n.next=6,je.from("contacts").update({category:O}).eq("contact_id",S.contact_id);case 6:if(e=n.sent,!(t=e.error)){n.next=10;break}throw t;case 10:d.oR.success("Contact moved to ".concat(O)),l((function(n){return n.filter((function(n){return n.contact_id!==S.contact_id}))})),g&&g.contact_id===S.contact_id&&b(null),C(!1),B(null),$(""),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(3),console.error("Error updating contact category:",n.t0),d.oR.error("Failed to update contact category");case 22:return n.prev=22,I(!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[3,18,22,25]])})));return function(){return n.apply(this,arguments)}}(),H=function(){var n=Oe(Ce().mark((function n(e){var t,r,o,i,a,c,s,l,u,h,p,f,m,x,g,b,y,v,j,w,_,A,F,k;return Ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return M(e),n.prev=1,n.next=4,Promise.all([Promise.resolve({count:0}),Promise.resolve({count:0}),je.from("interactions").select("interaction_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("emails").select("email_id",{count:"exact",head:!0}).eq("sender_contact_id",e.contact_id),je.from("email_participants").select("participant_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_email_threads").select("email_thread_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_tags").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_cities").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_companies").select("contact_companies_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("notes_contacts").select("note_contact_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("attachments").select("attachment_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_emails").select("email_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_mobiles").select("mobile_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("deals_contacts").select("deals_contacts_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("meeting_contacts").select("meeting_contact_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("investments_contacts").select("investments_contacts_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("keep_in_touch").select("id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("interactions").select("interaction_id, interaction_type, direction, interaction_date, summary").eq("contact_id",e.contact_id).order("interaction_date",{ascending:!1}).limit(1)]);case 4:t=n.sent,r=$e(t,18),o=r[0],i=r[1],a=r[2],c=r[3],s=r[4],l=r[5],u=r[6],h=r[7],p=r[8],f=r[9],m=r[10],x=r[11],g=r[12],b=r[13],y=r[14],v=r[15],j=r[16],w=r[17],_=null,w.data&&w.data.length>0&&(A=w.data[0],F=new Date(A.interaction_date).toLocaleDateString(),_={summary:"".concat(A.interaction_type," - ").concat(A.summary||"No notes"," (").concat(F,")")}),k={chatCount:o.count||0,contactChatsCount:i.count||0,interactionsCount:a.count||0,emailsCount:c.count||0,emailParticipantsCount:s.count||0,emailThreadsCount:l.count||0,tagsCount:u.count||0,citiesCount:h.count||0,companiesCount:p.count||0,notesCount:f.count||0,attachmentsCount:m.count||0,contactEmailsCount:x.count||0,contactMobilesCount:g.count||0,dealsCount:b.count||0,meetingsCount:y.count||0,investmentsCount:v.count||0,kitCount:j.count||0,lastInteraction:_},G(k),q(!0),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(1),console.error("Error fetching associated data:",n.t0),d.oR.error("Failed to load contact details");case 35:case"end":return n.stop()}}),n,null,[[1,31]])})));return function(e){return n.apply(this,arguments)}}(),X=function(){var n=Oe(Ce().mark((function n(e){var t,r;return Ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.from("contacts").update({category:"Skip"}).eq("contact_id",e.contact_id);case 3:if(t=n.sent,!(r=t.error)){n.next=7;break}throw r;case 7:l((function(n){return n.filter((function(n){return n.contact_id!==e.contact_id}))})),d.oR.success("".concat(e.first_name||""," ").concat(e.last_name||""," moved to Skip").trim()),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.error("Error skipping contact:",n.t0),d.oR.error("Failed to skip contact");case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}(),V=function(n){if(!n.last_interaction_at)return"ages ago";var e=Math.floor((Date.now()-new Date(n.last_interaction_at).getTime())/864e5);return 0===e?"today":e<=7?"this week":e<=30?"this month":"ages ago"},J=function(n){var e=0;if(n.last_interaction_at){var t=Math.floor((Date.now()-new Date(n.last_interaction_at).getTime())/864e5);e+=t<=7?3:t<=30?2:1}return n.job_role&&(e+=1),n.companies&&n.companies.length>0&&(e+=1),n.emails&&n.emails.length>0&&(e+=1),n.mobiles&&n.mobiles.length>0&&(e+=1),e},Q=(0,i.useMemo)((function(){return(n=s,function(n){if(Array.isArray(n))return De(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Te(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(n,e){var t=J(n),r=J(e);return r!==t?r-t:new Date(e.last_interaction_at)-new Date(n.last_interaction_at)}));var n}),[s]);return(0,h.jsxs)(Ie,{theme:a,children:[g?(0,h.jsxs)(ut,{theme:a,children:[(0,h.jsxs)(ht,{theme:a,children:[(0,h.jsxs)(pt,{theme:a,onClick:function(){b(null)},children:[(0,h.jsx)(we.QVr,{}),(0,h.jsx)("span",{children:"Back to Inbox"})]}),(0,h.jsxs)(ft,{children:[(null===(e=g.emails)||void 0===e?void 0:e.length)>0&&(null===(t=g.emails[0])||void 0===t?void 0:t.email)&&(0,h.jsxs)(mt,{href:"mailto:".concat(g.emails[0].email),$primary:!0,children:[(0,h.jsx)(we.maD,{}),"Email"]}),(null===(r=g.mobiles)||void 0===r?void 0:r.length)>0&&(null===(o=g.mobiles[0])||void 0===o?void 0:o.mobile)&&(0,h.jsxs)(mt,{href:"https://wa.me/".concat(g.mobiles[0].mobile.replace(/\D/g,"")),$secondary:!0,children:[(0,h.jsx)(we.Cab,{}),"WhatsApp"]})]})]}),(0,h.jsxs)(xt,{children:[(0,h.jsxs)(gt,{children:[(0,h.jsx)(bt,{children:g.profile_image_url?(0,h.jsx)("img",{src:g.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(yt,{children:[(0,h.jsxs)(vt,{children:[(0,h.jsxs)(jt,{theme:a,children:[g.first_name," ",g.last_name]}),(0,h.jsx)(_t,{theme:a,onClick:function(){return e="".concat((n=g).first_name," ").concat(n.last_name),t="obsidian://advanced-uri?vault=".concat(encodeURIComponent("Living with Intention"),"&commandid=workspace%253Anew-file&filename=").concat(encodeURIComponent(e+".md")),window.open(t,"_self"),void d.oR.success("Opening note for ".concat(e),{duration:2e3,icon:"ðŸ“"});var n,e,t},title:"Open Obsidian note for ".concat(g.first_name," ").concat(g.last_name),children:(0,h.jsx)(we.jie,{})})]}),g.job_role&&(0,h.jsx)(wt,{theme:a,children:g.job_role})]})]}),(0,h.jsxs)(At,{children:[(0,h.jsx)(Ft,{theme:a,children:"Categorize Contact"}),(0,h.jsx)(kt,{children:[{value:"Keep in Touch",label:"Keep in Touch",color:"#10B981"},{value:"Friends",label:"Friends",color:"#3B82F6"},{value:"Family",label:"Family",color:"#8B5CF6"},{value:"Work",label:"Work",color:"#F59E0B"},{value:"Business",label:"Business",color:"#EF4444"},{value:"Prospects",label:"Prospects",color:"#06B6D4"},{value:"Clients",label:"Clients",color:"#84CC16"},{value:"Skip",label:"Skip",color:"#6B7280"}].map((function(n){return(0,h.jsxs)(Ct,{theme:a,$color:n.color,onClick:function(){return function(n,e){B(n),$(e),C(!0)}(g,n.value)},children:[(0,h.jsx)(Et,{$color:n.color,children:"Skip"===n.value?(0,h.jsx)(u.Oge,{}):(0,h.jsx)(we.CMH,{})}),(0,h.jsx)(St,{children:n.label})]},n.value)}))})]})]})]}):(0,h.jsxs)(Pe,{children:[(0,h.jsx)(qe,{theme:a,children:(0,h.jsxs)(Re,{children:[(0,h.jsxs)(Me,{children:[(0,h.jsx)(Ne,{theme:a,children:"Inbox"}),(0,h.jsxs)(Ge,{theme:a,children:[s.length," contact",1!==s.length?"s":""," need",1===s.length?"s":""," categorization"]})]}),(0,h.jsx)(We,{theme:a,onClick:Y,disabled:v,$isRefreshing:v,children:(0,h.jsx)(we.DIg,{})})]})}),f&&(0,h.jsxs)(Le,{children:[(0,h.jsx)(Ue,{}),(0,h.jsx)(Ye,{theme:a,children:"Loading contacts..."})]}),(0,h.jsxs)(Ke,{children:[Q.map((function(n){var e,t,r,o;return(0,h.jsxs)(He,{theme:a,children:[(0,h.jsxs)(Xe,{onClick:function(){return function(n){b(n)}(n)},children:[(0,h.jsxs)(Ve,{children:[(0,h.jsx)(Je,{children:n.profile_image_url?(0,h.jsx)("img",{src:n.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(Qe,{children:[(0,h.jsxs)(Ze,{theme:a,children:[n.first_name," ",n.last_name,(0,h.jsx)(nt,{$score:J(n),children:V(n)})]}),n.job_role&&(0,h.jsx)(et,{theme:a,children:n.job_role}),n.companies[0]&&(0,h.jsxs)(tt,{theme:a,children:[(0,h.jsx)(we.ymh,{style:{marginRight:"6px"}}),n.companies[0].name]})]})]}),(0,h.jsxs)(rt,{children:[(null===(e=n.emails)||void 0===e?void 0:e.length)>0&&(null===(t=n.emails[0])||void 0===t?void 0:t.email)&&(0,h.jsxs)(ot,{theme:a,children:[(0,h.jsx)(we.maD,{}),(0,h.jsx)("span",{children:n.emails[0].email})]}),(null===(r=n.mobiles)||void 0===r?void 0:r.length)>0&&(null===(o=n.mobiles[0])||void 0===o?void 0:o.mobile)&&(0,h.jsxs)(ot,{theme:a,children:[(0,h.jsx)(we.Cab,{}),(0,h.jsx)("span",{children:n.mobiles[0].mobile})]})]})]}),(0,h.jsxs)(it,{children:[(0,h.jsx)(at,{theme:a,onClick:function(e){var t,r,o;e.stopPropagation(),t=n.contact_id,r="/contacts/workflow/".concat(t,"?step=2"),(o=window.open(r,"_blank"))&&(o.focus(),setTimeout((function(){o.document&&o.document.documentElement&&o.document.documentElement.requestFullscreen?o.document.documentElement.requestFullscreen().catch((function(){o.moveTo(0,0),o.resizeTo(window.screen.availWidth,window.screen.availHeight)})):(o.moveTo(0,0),o.resizeTo(window.screen.availWidth,window.screen.availHeight))}),100))},$edit:!0,title:"Edit contact",children:(0,h.jsx)(we.uO9,{})}),(0,h.jsx)(at,{theme:a,onClick:function(e){e.stopPropagation(),X(n)},$skip:!0,title:"Skip contact",children:(0,h.jsx)(u.Oge,{})}),(0,h.jsx)(at,{theme:a,onClick:function(e){var t,r,o,i;e.stopPropagation(),i=Se(Se({},t=n),{},{email:(null===(r=t.emails)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.email)||null,mobile:(null===(o=t.mobiles)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.mobile)||null}),H(i)},$delete:!0,title:"Delete contact",children:(0,h.jsx)(u.eHT,{})})]})]},n.contact_id)})),!f&&0===s.length&&(0,h.jsxs)(ct,{children:[(0,h.jsx)(st,{children:"ðŸ“¥"}),(0,h.jsx)(lt,{theme:a,children:"Inbox is empty!"}),(0,h.jsx)(dt,{theme:a,children:"All contacts have been categorized. Great work!"})]})]})]}),(0,h.jsxs)(Ae(),{isOpen:k,onRequestClose:function(){return C(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"400px",width:"90%",backgroundColor:"light"===a?"#FFFFFF":"#1F2937",border:"1px solid ".concat("light"===a?"#E5E7EB":"#374151"),borderRadius:"12px",color:"light"===a?"#111827":"#F9FAFB"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:[(0,h.jsxs)(Bt,{children:[(0,h.jsx)("h2",{children:"Confirm Category Change"}),(0,h.jsx)(zt,{theme:a,onClick:function(){return C(!1)},disabled:D,children:(0,h.jsx)(u.yGN,{})})]}),(0,h.jsxs)(Ot,{theme:a,children:["Move ",(0,h.jsxs)("strong",{children:[null==S?void 0:S.first_name," ",null==S?void 0:S.last_name]})," to ",(0,h.jsx)("strong",{children:O}),"?"]}),(0,h.jsxs)($t,{children:[(0,h.jsx)(Tt,{theme:a,onClick:K,disabled:D,children:D?"Moving...":"Confirm"}),(0,h.jsx)(Dt,{theme:a,onClick:function(){return C(!1)},disabled:D,children:"Cancel"})]})]})]})};var Pt,qt,Rt,Mt,Nt,Gt,Wt,Lt,Ut,Yt,Kt,Ht,Xt,Vt,Jt,Qt,Zt,nr,er,tr,rr,or,ir,ar,cr,sr,lr,dr,ur,hr,pr,fr,mr,xr,gr,br,yr,vr,jr,wr,_r,Ar,Fr,kr,Cr,Er,Sr,Br,zr,Or,$r,Tr,Dr,Ir,Pr,qr,Rr,Mr,Nr,Gr,Wr,Lr,Ur,Yr,Kr,Hr,Xr,Vr,Jr,Qr,Zr,no,eo,to,ro,oo,io,ao;function co(n){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},co(n)}function so(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function lo(){lo=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(n,e,t,r){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r})}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype);return s(a,"_invoke",function(e,t,r){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var l=d(e,t,r);if("normal"===l.type){if(o=r.done?4:2,l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=4,r.method="throw",r.arg=l.arg)}}}(e,r,new A(o||[])),!0),a}function d(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}e.wrap=l;var u={};function h(){}function p(){}function f(){}var m={};s(m,i,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(F([])));g&&g!==t&&r.call(g,i)&&(m=g);var b=f.prototype=h.prototype=Object.create(m);function y(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function v(n,e){function t(o,i,a,c){var s=d(n[o],n,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==co(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(n){t("next",n,a,c)}),(function(n){t("throw",n,a,c)})):e.resolve(u).then((function(n){l.value=n,a(l)}),(function(n){return t("throw",n,a,c)}))}c(s.arg)}var o;s(this,"_invoke",(function(n,r){function i(){return new e((function(e,o){t(n,r,e,o)}))}return o=o?o.then(i,i):i()}),!0)}function j(e,t){var r=t.method,o=e.i[r];if(o===n)return t.delegate=null,"throw"===r&&e.i.return&&(t.method="return",t.arg=n,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var i=d(o,e.i,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.r]=a.value,t.next=e.n,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(n){this.tryEntries.push(n)}function _(e){var t=e[4]||{};t.type="normal",t.arg=n,e[4]=t}function A(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function F(e){if(null!=e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(co(e)+" is not iterable")}return p.prototype=f,s(b,"constructor",f),s(f,"constructor",p),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,s(n,c,"GeneratorFunction")),n.prototype=Object.create(b),n},e.awrap=function(n){return{__await:n}},y(v.prototype),s(v.prototype,a,(function(){return this})),e.AsyncIterator=v,e.async=function(n,t,r,o,i){void 0===i&&(i=Promise);var a=new v(l(n,t,r,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(n){var e=Object(n),t=[];for(var r in e)t.unshift(r);return function n(){for(;t.length;)if((r=t.pop())in e)return n.value=r,n.done=!1,n;return n.done=!0,n}},e.values=F,A.prototype={constructor:A,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n){a.type="throw",a.arg=e,t.next=n}for(var o=t.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],c=this.prev,s=i[1],l=i[2];if(-1===i[0])return r("end"),!1;if(!s&&!l)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=c){if(c<s)return this.method="next",this.arg=n,r(s),!0;if(c<l)return r(l),!1}}},abrupt:function(n,e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===n||"continue"===n)&&o[0]<=e&&e<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=e,o?(this.method="next",this.next=o[2],u):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),u},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[2]===n)return this.complete(t[4],t[3]),_(t),u}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[0]===n){var r=t[4];if("throw"===r.type){var o=r.arg;_(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={i:F(e),r:t,n:r},"next"===this.method&&(this.arg=n),u}},e}function uo(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function ho(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?uo(Object(t),!0).forEach((function(e){po(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uo(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function po(n,e,t){return(e=function(n){var e=function(n){if("object"!=co(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=co(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==co(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fo(n,e,t,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function mo(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){fo(i,r,o,a,c,"next",n)}function c(n){fo(i,r,o,a,c,"throw",n)}a(void 0)}))}}function xo(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return go(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?go(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}t(5874);var bo=l.Ay.div(Pt||(Pt=so(["\n  position: relative;\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n"]))),yo=l.Ay.div(qt||(qt=so(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-radius: 0;\n\n  @media (min-width: 768px) {\n    margin: 20px;\n    border-radius: 12px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n    min-height: calc(100vh - 40px);\n  }\n"]))),vo=l.Ay.div(Rt||(Rt=so(["\n  background: white;\n  padding: 24px 20px 20px 20px;\n  border-bottom: 1px solid #e5e7eb;\n"]))),jo=l.Ay.div(Mt||(Mt=so(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 800px;\n  margin: 0 auto;\n"]))),wo=l.Ay.div(Nt||(Nt=so(["\n  text-align: center;\n  flex: 1;\n"]))),_o=l.Ay.div(Gt||(Gt=so(["\n  display: flex;\n  gap: 12px;\n  align-items: center;\n"]))),Ao=l.Ay.button(Wt||(Wt=so(["\n  background: none;\n  border: 2px solid #10b981;\n  color: #10b981;\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 18px;\n  flex-shrink: 0;\n\n  &:hover {\n    background: #10b981;\n    color: white;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  ","\n\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n\n  @media (max-width: 768px) {\n    width: 44px;\n    height: 44px;\n    font-size: 16px;\n  }\n"])),(function(n){return n.$isRefreshing&&"\n    svg {\n      animation: spin 1s linear infinite;\n    }\n  "})),Fo=l.Ay.button(Lt||(Lt=so(["\n  background: none;\n  border: 2px solid #3b82f6;\n  color: #3b82f6;\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 20px;\n  flex-shrink: 0;\n\n  &:hover {\n    background: #3b82f6;\n    color: white;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  @media (max-width: 768px) {\n    width: 44px;\n    height: 44px;\n    font-size: 18px;\n  }\n"]))),ko=l.Ay.h1(Ut||(Ut=so(["\n  font-size: 28px;\n  font-weight: 700;\n  color: #1f2937;\n  margin: 0 0 8px 0;\n\n  @media (min-width: 768px) {\n    font-size: 32px;\n  }\n"]))),Co=l.Ay.p(Yt||(Yt=so(["\n  color: #6b7280;\n  margin: 0;\n  font-size: 16px;\n"]))),Eo=l.Ay.div(Kt||(Kt=so(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 40px 20px;\n"]))),So=l.Ay.div(Ht||(Ht=so(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid #e5e7eb;\n  border-top: 2px solid #3b82f6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"]))),Bo=l.Ay.span(Xt||(Xt=so(["\n  color: #6b7280;\n  font-size: 14px;\n"]))),zo=(l.Ay.div(Vt||(Vt=so(["\n  color: #6b7280;\n  font-size: 14px;\n  font-weight: 500;\n  padding: 0 20px 16px 20px;\n"]))),l.Ay.div(Jt||(Jt=so(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  -webkit-overflow-scrolling: touch;\n"])))),Oo=l.Ay.div(Qt||(Qt=so(["\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  margin-bottom: 12px;\n  transition: all 0.2s ease;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: stretch;\n\n  &:hover {\n    border-color: #3b82f6;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),$o=l.Ay.div(Zt||(Zt=so(["\n  flex: 1;\n  padding: 16px;\n  cursor: pointer;\n  min-width: 0;\n"]))),To=l.Ay.div(nr||(nr=so(["\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n  gap: 4px;\n  border-left: 1px solid #e5e7eb;\n  min-width: 60px;\n  justify-content: center;\n  align-items: center;\n"]))),Do=l.Ay.div(er||(er=so(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 12px;\n  gap: 12px;\n"]))),Io=l.Ay.div(tr||(tr=so(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #f3f4f6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  border: 2px solid #e5e7eb;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9ca3af;\n    font-size: 20px;\n  }\n"]))),Po=l.Ay.div(rr||(rr=so(["\n  flex: 1;\n  min-width: 0;\n"]))),qo=l.Ay.div(or||(or=so(["\n  font-weight: 600;\n  color: #1f2937;\n  font-size: 16px;\n  line-height: 1.4;\n  margin-bottom: 2px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Ro=l.Ay.span(ir||(ir=so(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: 12px;\n  font-weight: 500;\n  padding: 2px 8px;\n  border-radius: 12px;\n"])),(function(n){return"Inbox"===n.category||"Not Set"===n.category?"#fee2e2":"#f3f4f6"}),(function(n){return"Inbox"===n.category||"Not Set"===n.category?"#dc2626":"#374151"}),(function(n){return"Inbox"===n.category||"Not Set"===n.category?"#fecaca":"#d1d5db"})),Mo=l.Ay.div(ar||(ar=so(["\n  color: #6b7280;\n  font-size: 14px;\n  margin-bottom: 4px;\n"]))),No=l.Ay.div(cr||(cr=so(["\n  color: #6b7280;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  svg {\n    font-size: 12px;\n  }\n"]))),Go=l.Ay.div(sr||(sr=so(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 4px;\n  flex-shrink: 0;\n"]))),Wo=l.Ay.div(lr||(lr=so(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: #3b82f6;\n  font-size: 12px;\n  font-weight: 500;\n  text-transform: capitalize;\n\n  svg {\n    font-size: 12px;\n  }\n"]))),Lo=l.Ay.div(dr||(dr=so(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: #6b7280;\n  font-size: 12px;\n\n  svg {\n    font-size: 10px;\n  }\n"]))),Uo=(l.Ay.div(ur||(ur=so(["\n  color: #374151;\n  font-size: 14px;\n  line-height: 1.4;\n  margin-bottom: 12px;\n  padding: 8px 12px;\n  background: #f9fafb;\n  border-radius: 6px;\n  border-left: 3px solid #e5e7eb;\n"]))),l.Ay.div(hr||(hr=so(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n"]))),l.Ay.div(pr||(pr=so(["\n  color: #6b7280;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  svg {\n    font-size: 12px;\n    flex-shrink: 0;\n    color: #9ca3af;\n  }\n\n  span {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),l.Ay.div(fr||(fr=so(["\n  text-align: center;\n  padding: 60px 20px;\n"])))),Yo=l.Ay.div(mr||(mr=so(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),Ko=l.Ay.h3(xr||(xr=so(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #1f2937;\n  margin: 0 0 8px 0;\n"]))),Ho=l.Ay.p(gr||(gr=so(["\n  color: #6b7280;\n  margin: 0;\n  font-size: 14px;\n  line-height: 1.5;\n"]))),Xo=l.Ay.div(br||(br=so(["\n  height: 100%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  border-radius: 0;\n\n  @media (min-width: 768px) {\n    margin: 20px;\n    border-radius: 12px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n    height: calc(100% - 40px);\n  }\n"]))),Vo=l.Ay.div(yr||(yr=so(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid #e5e7eb;\n  background: white;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n"]))),Jo=l.Ay.button(vr||(vr=so(["\n  background: none;\n  border: none;\n  color: #3b82f6;\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 0;\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),Qo=l.Ay.div(jr||(jr=so(["\n  display: flex;\n  gap: 8px;\n"]))),Zo=l.Ay.a(wr||(wr=so(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 16px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  text-decoration: none;\n  transition: all 0.2s ease;\n  border: none;\n  cursor: pointer;\n  font-family: inherit;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(n){return n.$primary&&"\n    background: #3b82f6;\n    color: white;\n\n    &:hover {\n      background: #2563eb;\n      color: white;\n    }\n  "}),(function(n){return n.$secondary&&"\n    background: #10b981;\n    color: white;\n\n    &:hover {\n      background: #059669;\n      color: white;\n    }\n  "}),(function(n){return n.$edit&&"\n    background: #f59e0b;\n    color: white;\n\n    &:hover {\n      background: #d97706;\n      color: white;\n    }\n  "}),(function(n){return n.$delete&&"\n    background: #ef4444;\n    color: white;\n\n    &:hover {\n      background: #dc2626;\n      color: white;\n    }\n  "})),ni=l.Ay.button(_r||(_r=so(["\n  background: none;\n  border: none;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n\n  ","\n\n  ","\n\n  ","\n\n  &:active {\n    transform: scale(0.95);\n  }\n"])),(function(n){return n.$edit&&"\n    color: #f59e0b;\n    &:hover {\n      background: #fef3c7;\n      color: #d97706;\n    }\n  "}),(function(n){return n.$delete&&"\n    color: #ef4444;\n    &:hover {\n      background: #fee2e2;\n      color: #dc2626;\n    }\n  "}),(function(n){return n.$spam&&"\n    color: #f59e0b;\n    &:hover {\n      background: #fef3c7;\n      color: #d97706;\n    }\n  "})),ei=l.Ay.div(Ar||(Ar=so(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px 20px;\n  -webkit-overflow-scrolling: touch;\n"]))),ti=l.Ay.div(Fr||(Fr=so(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid #e5e7eb;\n"]))),ri=l.Ay.div(kr||(kr=so(["\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: #f3f4f6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 16px;\n  flex-shrink: 0;\n  border: 3px solid #e5e7eb;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9ca3af;\n    font-size: 32px;\n  }\n\n  @media (min-width: 768px) {\n    width: 100px;\n    height: 100px;\n\n    svg {\n      font-size: 40px;\n    }\n  }\n"]))),oi=l.Ay.div(Cr||(Cr=so(["\n  flex: 1;\n"]))),ii=l.Ay.div(Er||(Er=so(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 6px;\n"]))),ai=l.Ay.button(Sr||(Sr=so(["\n  background: #8b5cf6;\n  color: white;\n  border: none;\n  padding: 8px 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n\n  &:hover {\n    background: #7c3aed;\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"]))),ci=l.Ay.h2(Br||(Br=so(["\n  font-size: 24px;\n  font-weight: 700;\n  color: #1f2937;\n  margin: 0;\n\n  @media (min-width: 768px) {\n    font-size: 28px;\n  }\n"]))),si=l.Ay.div(zr||(zr=so(["\n  color: #6b7280;\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),li=l.Ay.div(Or||(Or=so(["\n  background: #dbeafe;\n  color: #1d4ed8;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 14px;\n  font-weight: 500;\n  display: inline-block;\n"]))),di=l.Ay.div($r||($r=so(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),ui=l.Ay.div(Tr||(Tr=so([""]))),hi=l.Ay.h3(Dr||(Dr=so(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #1f2937;\n  margin: 0 0 16px 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e5e7eb;\n"]))),pi=l.Ay.div(Ir||(Ir=so(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),fi=l.Ay.div(Pr||(Pr=so(["\n  display: flex;\n  align-items: flex-start;\n"]))),mi=l.Ay.div(qr||(qr=so(["\n  width: 40px;\n  display: flex;\n  justify-content: center;\n  margin-top: 2px;\n  flex-shrink: 0;\n\n  svg {\n    color: #6b7280;\n    font-size: 16px;\n  }\n"]))),xi=l.Ay.div(Rr||(Rr=so(["\n  flex: 1;\n"]))),gi=l.Ay.div(Mr||(Mr=so(["\n  font-size: 14px;\n  color: #6b7280;\n  margin-bottom: 2px;\n"]))),bi=l.Ay.div(Nr||(Nr=so(["\n  color: #1f2937;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n\n  a {\n    color: #3b82f6;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]))),yi=l.Ay.div(Gr||(Gr=so(["\n  font-size: 14px;\n  color: #6b7280;\n  margin-top: 4px;\n\n  a {\n    color: #6b7280;\n  }\n"]))),vi=l.Ay.span(Wr||(Wr=so(["\n  background: #d1fae5;\n  color: #065f46;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n"]))),ji=l.Ay.div(Lr||(Lr=so(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n"]))),wi=l.Ay.span(Ur||(Ur=so(["\n  background: #f3f4f6;\n  color: #374151;\n  border: 1px solid #d1d5db;\n  padding: 6px 12px;\n  border-radius: 16px;\n  font-size: 14px;\n"]))),_i=l.Ay.div(Yr||(Yr=so(["\n  color: #374151;\n  line-height: 1.6;\n  font-size: 16px;\n"]))),Ai=l.Ay.div(Kr||(Kr=so(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #333;\n\n  h2 {\n    color: #e0e0e0;\n    margin: 0;\n    font-size: 1.2em;\n  }\n"]))),Fi=l.Ay.button(Hr||(Hr=so(["\n  background: none;\n  border: none;\n  color: #999;\n  cursor: pointer;\n  padding: 5px;\n  border-radius: 3px;\n\n  &:hover {\n    background: #333;\n    color: #fff;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n"]))),ki=l.Ay.div(Xr||(Xr=so(["\n  margin-bottom: 15px;\n"]))),Ci=l.Ay.div(Vr||(Vr=so(["\n  margin-bottom: 8px;\n"]))),Ei=l.Ay.span(Jr||(Jr=so(["\n  color: #999;\n  font-weight: 500;\n  margin-right: 8px;\n"]))),Si=l.Ay.span(Qr||(Qr=so(["\n  color: #e0e0e0;\n  font-weight: 600;\n"]))),Bi=l.Ay.div(Zr||(Zr=so(["\n  color: #e0e0e0;\n  margin-bottom: 20px;\n  font-weight: 500;\n"]))),zi=l.Ay.div(no||(no=so(["\n  max-height: 300px;\n  overflow-y: auto;\n  margin-bottom: 20px;\n  border: 1px solid #333;\n  border-radius: 4px;\n  padding: 10px;\n  background: #1a1a1a;\n"]))),Oi=l.Ay.div(eo||(eo=so(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n"]))),$i=l.Ay.div(to||(to=so(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  label {\n    color: #e0e0e0;\n    cursor: pointer;\n    user-select: none;\n    flex: 1;\n  }\n"]))),Ti=l.Ay.input(ro||(ro=so(["\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n  accent-color: #00ff00;\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n"]))),Di=l.Ay.div(oo||(oo=so(["\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  margin-top: 20px;\n  padding-top: 15px;\n  border-top: 1px solid #333;\n"]))),Ii=l.Ay.button(io||(io=so(["\n  background: #dc2626;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 500;\n  transition: background-color 0.2s;\n\n  &:hover:not(:disabled) {\n    background: #b91c1c;\n  }\n\n  &:disabled {\n    background: #666;\n    cursor: not-allowed;\n    opacity: 0.7;\n  }\n"]))),Pi=l.Ay.button(ao||(ao=so(["\n  background: #374151;\n  color: #e0e0e0;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 500;\n  transition: background-color 0.2s;\n\n  &:hover:not(:disabled) {\n    background: #4b5563;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.7;\n  }\n"])));const qi=function(){var n,e,t,r,o,a,c,s,l,p,f,m,x,g=xo((0,i.useState)([]),2),b=g[0],y=g[1],v=xo((0,i.useState)(!0),2),j=v[0],w=v[1],_=xo((0,i.useState)(null),2),A=_[0],F=_[1],k=xo((0,i.useState)(!1),2),C=k[0],E=k[1],S=xo((0,i.useState)(!1),2),B=S[0],z=S[1],O=xo((0,i.useState)(null),2),$=O[0],T=O[1],D=xo((0,i.useState)({}),2),I=D[0],P=D[1],q=xo((0,i.useState)({}),2),R=q[0],M=q[1],N=xo((0,i.useState)(!1),2),G=N[0],W=N[1],L=function(){var n=mo(lo().mark((function n(){var e,t,r,o,i,a;return lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(!0),n.prev=1,n.next=4,je.from("contacts").select("\n          *,\n          contact_emails (email, type, is_primary),\n          contact_mobiles (mobile, type, is_primary),\n          contact_companies (\n            company_id,\n            relationship,\n            is_primary,\n            companies (name, website, category)\n          ),\n          contact_tags (\n            tags (name)\n          ),\n          contact_cities (\n            cities (name, country)\n          )\n        ").order("last_interaction_at",{ascending:!1,nullsFirst:!1}).limit(50);case 4:if(e=n.sent,t=e.data,!(r=e.error)){n.next=9;break}throw r;case 9:(o=new Date).setDate(o.getDate()-30),i=t.filter((function(n){return!!n.last_interaction_at&&"Skip"!==n.category&&"WhatsApp Group Contact"!==n.category&&"System"!==n.category&&new Date(n.last_interaction_at)>=o})),a=i.slice(0,30).map((function(n){var e,t,r;return{id:"contact_".concat(n.contact_id,"_").concat(n.last_interaction_at),contact_id:n.contact_id,created_at:n.last_interaction_at,type:"interaction",notes:null,contact:ho(ho({},n),{},{emails:n.contact_emails||[],mobiles:n.contact_mobiles||[],companies:(null===(e=n.contact_companies)||void 0===e?void 0:e.map((function(n){return n.companies})).filter(Boolean))||[],tags:(null===(t=n.contact_tags)||void 0===t?void 0:t.map((function(n){var e;return null===(e=n.tags)||void 0===e?void 0:e.name})).filter(Boolean))||[],cities:(null===(r=n.contact_cities)||void 0===r?void 0:r.map((function(n){return n.cities})).filter(Boolean))||[]})}})),y(a),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(1),console.error("Error fetching contacts with recent interactions:",n.t0),d.oR.error("Failed to load recent interactions");case 20:return n.prev=20,w(!1),n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[1,16,20,23]])})));return function(){return n.apply(this,arguments)}}();(0,i.useEffect)((function(){L();var n=setInterval((function(){L(),console.log("Auto-refreshing interactions data...")}),6e4);return function(){return clearInterval(n)}}),[]);var U=function(n){var e="/contacts/workflow/".concat(n,"?step=2"),t=window.open(e,"_blank");t&&(t.focus(),setTimeout((function(){t.document&&t.document.documentElement&&t.document.documentElement.requestFullscreen?t.document.documentElement.requestFullscreen().catch((function(){t.moveTo(0,0),t.resizeTo(window.screen.availWidth,window.screen.availHeight)})):(t.moveTo(0,0),t.resizeTo(window.screen.availWidth,window.screen.availHeight))}),100))},Y=function(){var n=mo(lo().mark((function n(e){var t,r,o,i,a,c,s,l,u,h,p,f,m,x,g,b,y,v,j,w,_,A,F,k;return lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return T(e),n.prev=1,n.next=4,Promise.all([je.from("chat").select("id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_chats").select("id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("interactions").select("interaction_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("emails").select("email_id",{count:"exact",head:!0}).eq("sender_contact_id",e.contact_id),je.from("email_participants").select("participant_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_email_threads").select("email_thread_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_tags").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_cities").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_companies").select("contact_companies_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_notes").select("note_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_attachments").select("attachment_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_emails").select("contact_email_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_mobiles").select("contact_mobile_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("deals").select("deal_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("meetings").select("meeting_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("investments").select("investment_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("keep_in_touch").select("kit_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("interactions").select("type, notes, created_at").eq("contact_id",e.contact_id).order("created_at",{ascending:!1}).limit(1).maybeSingle()]);case 4:t=n.sent,r=xo(t,18),o=r[0],i=r[1],a=r[2],c=r[3],s=r[4],l=r[5],u=r[6],h=r[7],p=r[8],f=r[9],m=r[10],x=r[11],g=r[12],b=r[13],y=r[14],v=r[15],j=r[16],w=r[17],_=null,w.data&&(A=w.data,F=new Date(A.created_at).toLocaleDateString(),_={summary:"".concat(A.type," - ").concat(A.notes||"No notes"," (").concat(F,")")}),k={chatCount:o.count||0,contactChatsCount:i.count||0,interactionsCount:a.count||0,emailsCount:c.count||0,emailParticipantsCount:s.count||0,emailThreadsCount:l.count||0,tagsCount:u.count||0,citiesCount:h.count||0,companiesCount:p.count||0,notesCount:f.count||0,attachmentsCount:m.count||0,contactEmailsCount:x.count||0,contactMobilesCount:g.count||0,dealsCount:b.count||0,meetingsCount:y.count||0,investmentsCount:v.count||0,kitCount:j.count||0,lastInteraction:_},P(k),M({deleteInteractions:k.interactionsCount>0,deleteEmails:k.emailsCount>0,deleteEmailParticipants:k.emailParticipantsCount>0,deleteEmailThreads:k.emailThreadsCount>0,deleteTags:k.tagsCount>0,deleteCities:k.citiesCount>0,deleteCompanies:k.companiesCount>0,deleteNotes:k.notesCount>0,deleteAttachments:k.attachmentsCount>0,deleteContactEmails:k.contactEmailsCount>0,deleteContactMobiles:k.contactMobilesCount>0,deleteDeals:k.dealsCount>0,deleteMeetings:k.meetingsCount>0,deleteInvestments:k.investmentsCount>0,deleteKit:k.kitCount>0,deleteChat:k.chatCount>0,deleteContactChats:k.contactChatsCount>0}),z(!0),n.next=36;break;case 32:n.prev=32,n.t0=n.catch(1),console.error("Error fetching associated data:",n.t0),d.oR.error("Failed to load contact details");case 36:case"end":return n.stop()}}),n,null,[[1,32]])})));return function(e){return n.apply(this,arguments)}}(),K=function(n){Y(n)},H=function(n){var e=n.target,t=e.name,r=e.checked;M((function(n){return ho(ho({},n),{},po({},t,r))}))},X=function(){var n=mo(lo().mark((function n(){var e,t,r,o;return lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if($){n.next=2;break}return n.abrupt("return");case 2:if(W(!0),n.prev=3,e=$.contact_id,t=[],R.deleteInteractions&&I.interactionsCount>0&&t.push(je.from("interactions").delete().eq("contact_id",e)),R.deleteEmails&&I.emailsCount>0&&t.push(je.from("emails").delete().eq("sender_contact_id",e)),R.deleteEmailParticipants&&I.emailParticipantsCount>0&&t.push(je.from("email_participants").delete().eq("contact_id",e)),R.deleteEmailThreads&&I.emailThreadsCount>0&&t.push(je.from("contact_email_threads").delete().eq("contact_id",e)),R.deleteTags&&I.tagsCount>0&&t.push(je.from("contact_tags").delete().eq("contact_id",e)),R.deleteCities&&I.citiesCount>0&&t.push(je.from("contact_cities").delete().eq("contact_id",e)),R.deleteCompanies&&I.companiesCount>0&&t.push(je.from("contact_companies").delete().eq("contact_id",e)),R.deleteNotes&&I.notesCount>0&&t.push(je.from("contact_notes").delete().eq("contact_id",e)),R.deleteAttachments&&I.attachmentsCount>0&&t.push(je.from("contact_attachments").delete().eq("contact_id",e)),R.deleteContactEmails&&I.contactEmailsCount>0&&t.push(je.from("contact_emails").delete().eq("contact_id",e)),R.deleteContactMobiles&&I.contactMobilesCount>0&&t.push(je.from("contact_mobiles").delete().eq("contact_id",e)),R.deleteDeals&&I.dealsCount>0&&t.push(je.from("deals").delete().eq("contact_id",e)),R.deleteMeetings&&I.meetingsCount>0&&t.push(je.from("meetings").delete().eq("contact_id",e)),R.deleteInvestments&&I.investmentsCount>0&&t.push(je.from("investments").delete().eq("contact_id",e)),R.deleteKit&&I.kitCount>0&&t.push(je.from("keep_in_touch").delete().eq("contact_id",e)),R.deleteChat&&I.chatCount>0&&t.push(je.from("chat").delete().eq("contact_id",e)),R.deleteContactChats&&I.contactChatsCount>0&&t.push(je.from("contact_chats").delete().eq("contact_id",e)),!(t.length>0)){n.next=28;break}return n.next=26,Promise.allSettled(t);case 26:n.sent.forEach((function(n,e){"rejected"===n.status&&console.warn("Failed to delete related records:",n.reason)}));case 28:return n.next=30,je.from("contacts").delete().eq("contact_id",e);case 30:if(r=n.sent,!(o=r.error)){n.next=34;break}throw o;case 34:d.oR.success("Contact and selected associated records deleted successfully"),y((function(n){return n.filter((function(n){return n.contact_id!==e}))})),A&&A.contact_id===e&&F(null),z(!1),T(null),P({}),M({}),n.next=47;break;case 43:n.prev=43,n.t0=n.catch(3),console.error("Error deleting contact:",n.t0),d.oR.error("Failed to delete contact");case 47:return n.prev=47,W(!1),n.finish(47);case 50:case"end":return n.stop()}}),n,null,[[3,43,47,50]])})));return function(){return n.apply(this,arguments)}}(),V=function(){var n=mo(lo().mark((function n(){return lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return E(!0),n.next=3,L();case 3:console.log("Manual refresh triggered..."),setTimeout((function(){E(!1)}),1e3);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),J=function(n){if(!n)return"Unknown";var e=new Date(n),t=new Date,r=Math.abs(t-e),o=Math.floor(r/864e5);return 0===o?"Today":1===o?"Yesterday":o<7?"".concat(o," days ago"):e.toLocaleDateString()};return(0,h.jsxs)(bo,{children:[(0,h.jsx)(d.l$,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff",borderRadius:"8px",fontSize:"14px"},success:{duration:3e3,style:{background:"#000",color:"#00ff00",border:"1px solid #00ff00"}},error:{duration:4e3,style:{background:"#000",color:"#ff0000",border:"1px solid #ff0000"}}}}),A?(0,h.jsxs)(Xo,{children:[(0,h.jsxs)(Vo,{children:[(0,h.jsxs)(Jo,{onClick:function(){F(null)},children:[(0,h.jsx)(we.QVr,{}),(0,h.jsx)("span",{children:"Back to Interactions"})]}),(0,h.jsxs)(Qo,{children:[(0,h.jsxs)(Zo,{as:"button",onClick:function(){return U(A.contact_id)},$edit:!0,children:[(0,h.jsx)(we.uO9,{}),"Edit"]}),(0,h.jsxs)(Zo,{as:"button",onClick:function(){return K(A)},$delete:!0,children:[(0,h.jsx)(u.eHT,{}),"Spam"]}),(null===(n=A.emails)||void 0===n?void 0:n.length)>0&&(null===(e=A.emails[0])||void 0===e?void 0:e.email)&&(0,h.jsxs)(Zo,{href:"mailto:".concat(A.emails[0].email),$primary:!0,children:[(0,h.jsx)(we.maD,{}),"Email"]}),(null===(t=A.mobiles)||void 0===t?void 0:t.length)>0&&(null===(r=A.mobiles[0])||void 0===r?void 0:r.mobile)&&(0,h.jsxs)(Zo,{href:"https://wa.me/".concat(A.mobiles[0].mobile.replace(/\D/g,"")),$secondary:!0,children:[(0,h.jsx)(we.Cab,{}),"WhatsApp"]})]})]}),(0,h.jsxs)(ei,{children:[(0,h.jsxs)(ti,{children:[(0,h.jsx)(ri,{children:A.profile_image_url?(0,h.jsx)("img",{src:A.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(oi,{children:[(0,h.jsxs)(ii,{children:[(0,h.jsxs)(ci,{children:[A.first_name," ",A.last_name]}),(0,h.jsx)(ai,{onClick:function(){return e="".concat((n=A).first_name," ").concat(n.last_name),t="obsidian://advanced-uri?vault=".concat(encodeURIComponent("Living with Intention"),"&commandid=workspace%253Anew-file&filename=").concat(encodeURIComponent(e+".md")),window.open(t,"_self"),void d.oR.success("Opening note for ".concat(e),{duration:2e3,icon:"ðŸ“"});var n,e,t},title:"Open Obsidian note for ".concat(A.first_name," ").concat(A.last_name),children:(0,h.jsx)(we.jie,{})})]}),A.job_role&&(0,h.jsx)(si,{children:A.job_role}),A.score&&(0,h.jsxs)(li,{children:["Score: ",A.score]})]})]}),(0,h.jsxs)(di,{children:[((null===(o=A.emails)||void 0===o?void 0:o.length)>0||(null===(a=A.mobiles)||void 0===a?void 0:a.length)>0)&&(0,h.jsxs)(ui,{children:[(0,h.jsx)(hi,{children:"Contact Information"}),(0,h.jsxs)(pi,{children:[null===(c=A.emails)||void 0===c?void 0:c.map((function(n,e){return(0,h.jsxs)(fi,{children:[(0,h.jsx)(mi,{children:(0,h.jsx)(we.maD,{})}),(0,h.jsxs)(xi,{children:[(0,h.jsxs)(gi,{children:[n.type," Email"]}),(0,h.jsxs)(bi,{children:[(0,h.jsx)("a",{href:"mailto:".concat(n.email),children:n.email}),n.is_primary&&(0,h.jsx)(vi,{children:"Primary"})]})]})]},"email-".concat(e))})),null===(s=A.mobiles)||void 0===s?void 0:s.map((function(n,e){return(0,h.jsxs)(fi,{children:[(0,h.jsx)(mi,{children:(0,h.jsx)(we.Cab,{})}),(0,h.jsxs)(xi,{children:[(0,h.jsxs)(gi,{children:[n.type," Phone"]}),(0,h.jsxs)(bi,{children:[(0,h.jsx)("a",{href:"https://wa.me/".concat(n.mobile.replace(/\D/g,"")),children:n.mobile}),n.is_primary&&(0,h.jsx)(vi,{children:"Primary"})]})]})]},"mobile-".concat(e))}))]})]}),(null===(l=A.companies)||void 0===l?void 0:l.length)>0&&(0,h.jsxs)(ui,{children:[(0,h.jsx)(hi,{children:"Company Information"}),(0,h.jsx)(pi,{children:A.companies.map((function(n,e){return(0,h.jsxs)(fi,{children:[(0,h.jsx)(mi,{children:(0,h.jsx)(we.ymh,{})}),(0,h.jsxs)(xi,{children:[(0,h.jsx)(gi,{children:"Company"}),(0,h.jsx)(bi,{children:n.name}),n.website&&(0,h.jsx)(yi,{children:(0,h.jsx)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",children:n.website})})]})]},"company-".concat(e))}))})]}),(null===(p=A.cities)||void 0===p?void 0:p.length)>0&&(0,h.jsxs)(ui,{children:[(0,h.jsx)(hi,{children:"Location"}),(0,h.jsx)(pi,{children:A.cities.map((function(n,e){return(0,h.jsxs)(fi,{children:[(0,h.jsx)(mi,{children:(0,h.jsx)(we.vq8,{})}),(0,h.jsxs)(xi,{children:[(0,h.jsx)(gi,{children:"Location"}),(0,h.jsxs)(bi,{children:[n.name,", ",n.country]})]})]},"city-".concat(e))}))})]}),(null===(f=A.tags)||void 0===f?void 0:f.length)>0&&(0,h.jsxs)(ui,{children:[(0,h.jsx)(hi,{children:"Tags"}),(0,h.jsx)(ji,{children:A.tags.map((function(n,e){return(0,h.jsx)(wi,{children:n},e)}))})]}),A.description&&(0,h.jsxs)(ui,{children:[(0,h.jsx)(hi,{children:"Notes"}),(0,h.jsx)(_i,{children:A.description})]}),A.linkedin&&(0,h.jsxs)(ui,{children:[(0,h.jsx)(hi,{children:"Social Media"}),(0,h.jsx)(pi,{children:(0,h.jsx)(fi,{children:(0,h.jsxs)(xi,{children:[(0,h.jsx)(gi,{children:"LinkedIn Profile"}),(0,h.jsx)(bi,{children:(0,h.jsx)("a",{href:A.linkedin,target:"_blank",rel:"noopener noreferrer",children:"View LinkedIn Profile"})})]})})})]})]})]})]}):(0,h.jsxs)(yo,{children:[(0,h.jsx)(vo,{children:(0,h.jsxs)(jo,{children:[(0,h.jsxs)(wo,{children:[(0,h.jsx)(ko,{children:"Recent Interactions"}),(0,h.jsx)(Co,{children:"Last 30 days of contact interactions"})]}),(0,h.jsxs)(_o,{children:[(0,h.jsx)(Ao,{onClick:V,disabled:C,title:"Refresh interactions (Auto-refreshes every 60s)",$isRefreshing:C,children:(0,h.jsx)(we.DIg,{})}),(0,h.jsx)(Fo,{onClick:function(){return window.location.href="https://crm-editor-frontend.netlify.app/search"},title:"Switch to Search",children:(0,h.jsx)(we.KSO,{})})]})]})}),j&&(0,h.jsxs)(Eo,{children:[(0,h.jsx)(So,{}),(0,h.jsx)(Bo,{children:"Loading interactions..."})]}),(0,h.jsxs)(zo,{children:[b.map((function(n){var e,t,r,o,i,a;return(0,h.jsxs)(Oo,{children:[(0,h.jsx)($o,{onClick:function(){return e=n.contact,void F(e);var e},children:(0,h.jsxs)(Do,{children:[(0,h.jsx)(Io,{children:null!==(e=n.contact)&&void 0!==e&&e.profile_image_url?(0,h.jsx)("img",{src:n.contact.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(Po,{children:[(0,h.jsxs)(qo,{children:[null===(t=n.contact)||void 0===t?void 0:t.first_name," ",null===(r=n.contact)||void 0===r?void 0:r.last_name,(null===(o=n.contact)||void 0===o?void 0:o.category)&&(0,h.jsx)(Ro,{category:n.contact.category,children:n.contact.category})]}),(null===(i=n.contact)||void 0===i?void 0:i.job_role)&&(0,h.jsx)(Mo,{children:n.contact.job_role}),(null===(a=n.contact)||void 0===a?void 0:a.companies[0])&&(0,h.jsxs)(No,{children:[(0,h.jsx)(we.ymh,{style:{marginRight:"6px"}}),n.contact.companies[0].name]})]}),(0,h.jsxs)(Go,{children:[(0,h.jsxs)(Wo,{children:[(0,h.jsx)(we.uN,{}),(0,h.jsx)("span",{children:"Last Contact"})]}),(0,h.jsxs)(Lo,{children:[(0,h.jsx)(we.w_X,{}),(0,h.jsx)("span",{children:J(n.created_at)})]})]})]})}),(0,h.jsxs)(To,{children:[(0,h.jsx)(ni,{onClick:function(e){e.stopPropagation(),U(n.contact.contact_id)},$edit:!0,children:(0,h.jsx)(we.uO9,{})}),(0,h.jsx)(ni,{onClick:function(e){e.stopPropagation(),K(n.contact)},$spam:!0,children:(0,h.jsx)(u.eHT,{})})]})]},n.id)})),!j&&0===b.length&&(0,h.jsxs)(Uo,{children:[(0,h.jsx)(Yo,{children:"ðŸ“…"}),(0,h.jsx)(Ko,{children:"No recent interactions"}),(0,h.jsx)(Ho,{children:"No interactions found in the last 30 days"})]})]})]}),(0,h.jsxs)(Ae(),{isOpen:B,onRequestClose:function(){return z(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"600px",width:"90%",backgroundColor:"#121212",border:"1px solid #333",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.6)",color:"#e0e0e0",zIndex:1001},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1e3}},children:[(0,h.jsxs)(Ai,{children:[(0,h.jsx)("h2",{children:"Delete Contact and Associated Data"}),(0,h.jsx)(Fi,{onClick:function(){return z(!1)},disabled:G,children:(0,h.jsx)(u.yGN,{})})]}),$&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ki,{children:(0,h.jsx)(Ci,{children:(0,h.jsxs)(Si,{children:[$.first_name," ",$.last_name,null!==(m=$.emails)&&void 0!==m&&null!==(m=m[0])&&void 0!==m&&m.email?" (".concat($.emails[0].email,")"):null!==(x=$.mobiles)&&void 0!==x&&null!==(x=x[0])&&void 0!==x&&x.mobile?" (".concat($.mobiles[0].mobile,")"):""]})})}),(0,h.jsxs)(Ci,{style:{marginTop:"15px",marginBottom:"15px"},children:[(0,h.jsx)(Ei,{children:"Last Interaction:"}),(0,h.jsx)(Si,{children:I.lastInteraction?I.lastInteraction.summary:"None"})]}),(0,h.jsx)(Bi,{children:"Select which items to delete:"}),(0,h.jsx)(zi,{children:(0,h.jsxs)(Oi,{children:[I.interactionsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteInteractions",name:"deleteInteractions",checked:R.deleteInteractions,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteInteractions",children:["Interactions (",I.interactionsCount,")"]})]}),I.emailsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteEmails",name:"deleteEmails",checked:R.deleteEmails,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteEmails",children:["Emails (",I.emailsCount,")"]})]}),I.emailParticipantsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteEmailParticipants",name:"deleteEmailParticipants",checked:R.deleteEmailParticipants,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteEmailParticipants",children:["Email Participants (",I.emailParticipantsCount,")"]})]}),I.emailThreadsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteEmailThreads",name:"deleteEmailThreads",checked:R.deleteEmailThreads,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteEmailThreads",children:["Email Threads (",I.emailThreadsCount,")"]})]}),I.tagsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteTags",name:"deleteTags",checked:R.deleteTags,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteTags",children:["Tags (",I.tagsCount,")"]})]}),I.citiesCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteCities",name:"deleteCities",checked:R.deleteCities,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteCities",children:["Cities (",I.citiesCount,")"]})]}),I.companiesCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteCompanies",name:"deleteCompanies",checked:R.deleteCompanies,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteCompanies",children:["Companies (",I.companiesCount,")"]})]}),I.notesCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteNotes",name:"deleteNotes",checked:R.deleteNotes,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteNotes",children:["Notes (",I.notesCount,")"]})]}),I.attachmentsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteAttachments",name:"deleteAttachments",checked:R.deleteAttachments,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteAttachments",children:["Attachments (",I.attachmentsCount,")"]})]}),I.contactEmailsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteContactEmails",name:"deleteContactEmails",checked:R.deleteContactEmails,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteContactEmails",children:["Contact Emails (",I.contactEmailsCount,")"]})]}),I.contactMobilesCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteContactMobiles",name:"deleteContactMobiles",checked:R.deleteContactMobiles,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteContactMobiles",children:["Contact Mobiles (",I.contactMobilesCount,")"]})]}),I.dealsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteDeals",name:"deleteDeals",checked:R.deleteDeals,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteDeals",children:["Deals (",I.dealsCount,")"]})]}),I.meetingsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteMeetings",name:"deleteMeetings",checked:R.deleteMeetings,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteMeetings",children:["Meetings (",I.meetingsCount,")"]})]}),I.investmentsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteInvestments",name:"deleteInvestments",checked:R.deleteInvestments,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteInvestments",children:["Investments (",I.investmentsCount,")"]})]}),I.kitCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteKit",name:"deleteKit",checked:R.deleteKit,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteKit",children:["Keep in Touch (",I.kitCount,")"]})]}),I.chatCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteChat",name:"deleteChat",checked:R.deleteChat,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteChat",children:["Chat (",I.chatCount,")"]})]}),I.contactChatsCount>0&&(0,h.jsxs)($i,{children:[(0,h.jsx)(Ti,{type:"checkbox",id:"deleteContactChats",name:"deleteContactChats",checked:R.deleteContactChats,onChange:H,disabled:G}),(0,h.jsxs)("label",{htmlFor:"deleteContactChats",children:["Contact Chats (",I.contactChatsCount,")"]})]})]})}),(0,h.jsxs)(Di,{children:[(0,h.jsx)(Ii,{onClick:X,disabled:G,children:G?"Deleting...":"Delete Selected Items"}),(0,h.jsx)(Pi,{onClick:function(){return z(!1)},disabled:G,children:"Cancel"})]})]})]})]})};function Ri(n){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ri(n)}var Mi,Ni,Gi,Wi,Li,Ui,Yi,Ki,Hi,Xi,Vi,Ji,Qi,Zi,na,ea,ta,ra,oa,ia,aa,ca,sa,la,da,ua,ha,pa,fa,ma,xa,ga,ba,ya,va,ja,wa,_a,Aa,Fa,ka,Ca,Ea,Sa,Ba,za,Oa,$a,Ta,Da,Ia,Pa,qa,Ra,Ma,Na,Ga,Wa,La,Ua,Ya,Ka,Ha,Xa,Va,Ja,Qa,Za,nc,ec,tc,rc,oc,ic,ac,cc,sc,lc,dc,uc;function hc(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function pc(){pc=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(n,e,t,r){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r})}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype);return s(a,"_invoke",function(e,t,r){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var l=d(e,t,r);if("normal"===l.type){if(o=r.done?4:2,l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=4,r.method="throw",r.arg=l.arg)}}}(e,r,new A(o||[])),!0),a}function d(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}e.wrap=l;var u={};function h(){}function p(){}function f(){}var m={};s(m,i,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(F([])));g&&g!==t&&r.call(g,i)&&(m=g);var b=f.prototype=h.prototype=Object.create(m);function y(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function v(n,e){function t(o,i,a,c){var s=d(n[o],n,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Ri(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(n){t("next",n,a,c)}),(function(n){t("throw",n,a,c)})):e.resolve(u).then((function(n){l.value=n,a(l)}),(function(n){return t("throw",n,a,c)}))}c(s.arg)}var o;s(this,"_invoke",(function(n,r){function i(){return new e((function(e,o){t(n,r,e,o)}))}return o=o?o.then(i,i):i()}),!0)}function j(e,t){var r=t.method,o=e.i[r];if(o===n)return t.delegate=null,"throw"===r&&e.i.return&&(t.method="return",t.arg=n,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var i=d(o,e.i,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.r]=a.value,t.next=e.n,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(n){this.tryEntries.push(n)}function _(e){var t=e[4]||{};t.type="normal",t.arg=n,e[4]=t}function A(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function F(e){if(null!=e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(Ri(e)+" is not iterable")}return p.prototype=f,s(b,"constructor",f),s(f,"constructor",p),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,s(n,c,"GeneratorFunction")),n.prototype=Object.create(b),n},e.awrap=function(n){return{__await:n}},y(v.prototype),s(v.prototype,a,(function(){return this})),e.AsyncIterator=v,e.async=function(n,t,r,o,i){void 0===i&&(i=Promise);var a=new v(l(n,t,r,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(n){var e=Object(n),t=[];for(var r in e)t.unshift(r);return function n(){for(;t.length;)if((r=t.pop())in e)return n.value=r,n.done=!1,n;return n.done=!0,n}},e.values=F,A.prototype={constructor:A,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n){a.type="throw",a.arg=e,t.next=n}for(var o=t.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],c=this.prev,s=i[1],l=i[2];if(-1===i[0])return r("end"),!1;if(!s&&!l)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=c){if(c<s)return this.method="next",this.arg=n,r(s),!0;if(c<l)return r(l),!1}}},abrupt:function(n,e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===n||"continue"===n)&&o[0]<=e&&e<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=e,o?(this.method="next",this.next=o[2],u):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),u},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[2]===n)return this.complete(t[4],t[3]),_(t),u}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[0]===n){var r=t[4];if("throw"===r.type){var o=r.arg;_(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={i:F(e),r:t,n:r},"next"===this.method&&(this.arg=n),u}},e}function fc(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function mc(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?fc(Object(t),!0).forEach((function(e){xc(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fc(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function xc(n,e,t){return(e=function(n){var e=function(n){if("object"!=Ri(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Ri(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Ri(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gc(n,e,t,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function bc(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){gc(i,r,o,a,c,"next",n)}function c(n){gc(i,r,o,a,c,"throw",n)}a(void 0)}))}}function yc(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,e)||vc(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(n,e){if(n){if("string"==typeof n)return jc(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jc(n,e):void 0}}function jc(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var wc=l.Ay.div(Mi||(Mi=hc(["\n  position: relative;\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n"]))),_c=l.Ay.div(Ni||(Ni=hc(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-radius: 0;\n\n  @media (min-width: 768px) {\n    margin: 20px;\n    border-radius: 12px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n    min-height: calc(100vh - 40px);\n  }\n"]))),Ac=l.Ay.div(Gi||(Gi=hc(["\n  background: white;\n  padding: 24px 20px 20px 20px;\n  border-bottom: 1px solid #e5e7eb;\n"]))),Fc=l.Ay.div(Wi||(Wi=hc(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 800px;\n  margin: 0 auto;\n"]))),kc=l.Ay.div(Li||(Li=hc(["\n  text-align: center;\n  flex: 1;\n"]))),Cc=l.Ay.button(Ui||(Ui=hc(["\n  background: none;\n  border: 2px solid #10b981;\n  color: #10b981;\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 20px;\n  flex-shrink: 0;\n\n  &:hover {\n    background: #10b981;\n    color: white;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  @media (max-width: 768px) {\n    width: 44px;\n    height: 44px;\n    font-size: 18px;\n  }\n"]))),Ec=l.Ay.h1(Yi||(Yi=hc(["\n  font-size: 28px;\n  font-weight: 700;\n  color: #1f2937;\n  margin: 0 0 8px 0;\n\n  @media (min-width: 768px) {\n    font-size: 32px;\n  }\n"]))),Sc=l.Ay.p(Ki||(Ki=hc(["\n  color: #6b7280;\n  margin: 0;\n  font-size: 16px;\n"]))),Bc=l.Ay.div(Hi||(Hi=hc(["\n  padding: 20px;\n  background: white;\n  border-bottom: 1px solid #e5e7eb;\n"]))),zc=l.Ay.div(Xi||(Xi=hc(["\n  position: relative;\n  margin-bottom: 16px;\n"]))),Oc=l.Ay.div(Vi||(Vi=hc(["\n  position: absolute;\n  left: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #9ca3af;\n  z-index: 1;\n"]))),$c=l.Ay.input(Ji||(Ji=hc(["\n  width: 100%;\n  padding: 16px 16px 16px 48px;\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  font-size: 16px;\n  background: white;\n  transition: all 0.2s ease;\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n"]))),Tc=l.Ay.div(Qi||(Qi=hc(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 20px;\n"]))),Dc=l.Ay.div(Zi||(Zi=hc(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid #e5e7eb;\n  border-top: 2px solid #3b82f6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"]))),Ic=l.Ay.span(na||(na=hc(["\n  color: #6b7280;\n  font-size: 14px;\n"]))),Pc=l.Ay.div(ea||(ea=hc(["\n  color: #6b7280;\n  font-size: 14px;\n  font-weight: 500;\n"]))),qc=l.Ay.div(ta||(ta=hc(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 0 20px 20px 20px;\n  -webkit-overflow-scrolling: touch;\n"]))),Rc=l.Ay.div(ra||(ra=hc(["\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  padding: 16px;\n  margin-bottom: 12px;\n  transition: all 0.2s ease;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n\n  &:hover {\n    border-color: #3b82f6;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),Mc=l.Ay.div(oa||(oa=hc(["\n  flex: 1;\n  cursor: pointer;\n"]))),Nc=l.Ay.div(ia||(ia=hc(["\n  display: flex;\n  gap: 8px;\n  margin-left: 15px;\n  align-items: flex-start;\n"]))),Gc=l.Ay.button(aa||(aa=hc(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n  color: white;\n  padding: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  min-width: 32px;\n  height: 32px;\n\n  &:hover {\n    background: ",";\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),(function(n){return n.$edit?"#007acc":n.$spam?"#ff4444":"#333"}),(function(n){return n.$edit?"#0099ff":n.$spam?"#ff6666":"#555"}),(function(n){return n.$edit?"#0099ff":n.$spam?"#ff6666":"#555"})),Wc=l.Ay.div(ca||(ca=hc(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n"]))),Lc=l.Ay.div(sa||(sa=hc(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #f3f4f6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12px;\n  flex-shrink: 0;\n  border: 2px solid #e5e7eb;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9ca3af;\n    font-size: 20px;\n  }\n"]))),Uc=l.Ay.div(la||(la=hc(["\n  flex: 1;\n  min-width: 0;\n"]))),Yc=l.Ay.div(da||(da=hc(["\n  font-weight: 600;\n  color: #1f2937;\n  font-size: 16px;\n  line-height: 1.4;\n  margin-bottom: 2px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Kc=l.Ay.span(ua||(ua=hc(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: 12px;\n  font-weight: 500;\n  padding: 2px 8px;\n  border-radius: 12px;\n"])),(function(n){return"Inbox"===n.category||"Not Set"===n.category?"#fee2e2":"#f3f4f6"}),(function(n){return"Inbox"===n.category||"Not Set"===n.category?"#dc2626":"#374151"}),(function(n){return"Inbox"===n.category||"Not Set"===n.category?"#fecaca":"#d1d5db"})),Hc=l.Ay.div(ha||(ha=hc(["\n  color: #6b7280;\n  font-size: 14px;\n  margin-bottom: 4px;\n"]))),Xc=l.Ay.div(pa||(pa=hc(["\n  color: #6b7280;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  svg {\n    font-size: 12px;\n  }\n"]))),Vc=l.Ay.div(fa||(fa=hc(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n"]))),Jc=l.Ay.div(ma||(ma=hc(["\n  color: #6b7280;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  svg {\n    font-size: 12px;\n    flex-shrink: 0;\n    color: #9ca3af;\n  }\n\n  span {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),Qc=l.Ay.div(xa||(xa=hc(["\n  text-align: center;\n  padding: 60px 20px;\n"]))),Zc=l.Ay.div(ga||(ga=hc(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),ns=l.Ay.h3(ba||(ba=hc(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #1f2937;\n  margin: 0 0 8px 0;\n"]))),es=l.Ay.p(ya||(ya=hc(["\n  color: #6b7280;\n  margin: 0;\n  font-size: 14px;\n  line-height: 1.5;\n"]))),ts=l.Ay.div(va||(va=hc(["\n  text-align: center;\n  padding: 80px 20px;\n"]))),rs=l.Ay.div(ja||(ja=hc(["\n  font-size: 64px;\n  margin-bottom: 20px;\n"]))),os=l.Ay.h2(wa||(wa=hc(["\n  font-size: 20px;\n  font-weight: 600;\n  color: #1f2937;\n  margin: 0 0 12px 0;\n"]))),is=l.Ay.p(_a||(_a=hc(["\n  color: #6b7280;\n  margin: 0;\n  font-size: 16px;\n  line-height: 1.5;\n  max-width: 400px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),as=l.Ay.div(Aa||(Aa=hc(["\n  height: 100%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  border-radius: 0;\n\n  @media (min-width: 768px) {\n    margin: 20px;\n    border-radius: 12px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n    height: calc(100% - 40px);\n  }\n"]))),cs=l.Ay.div(Fa||(Fa=hc(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid #e5e7eb;\n  background: white;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n"]))),ss=l.Ay.button(ka||(ka=hc(["\n  background: none;\n  border: none;\n  color: #3b82f6;\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 0;\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),ls=l.Ay.div(Ca||(Ca=hc(["\n  display: flex;\n  gap: 8px;\n"]))),ds=l.Ay.a(Ea||(Ea=hc(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 16px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  text-decoration: none;\n  transition: all 0.2s ease;\n\n  ","\n\n  ","\n"])),(function(n){return n.$primary&&"\n    background: #3b82f6;\n    color: white;\n\n    &:hover {\n      background: #2563eb;\n      color: white;\n    }\n  "}),(function(n){return n.$secondary&&"\n    background: #10b981;\n    color: white;\n\n    &:hover {\n      background: #059669;\n      color: white;\n    }\n  "})),us=l.Ay.div(Sa||(Sa=hc(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px 20px;\n  -webkit-overflow-scrolling: touch;\n"]))),hs=l.Ay.div(Ba||(Ba=hc(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid #e5e7eb;\n"]))),ps=l.Ay.div(za||(za=hc(["\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: #f3f4f6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 16px;\n  flex-shrink: 0;\n  border: 3px solid #e5e7eb;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9ca3af;\n    font-size: 32px;\n  }\n\n  @media (min-width: 768px) {\n    width: 100px;\n    height: 100px;\n\n    svg {\n      font-size: 40px;\n    }\n  }\n"]))),fs=l.Ay.div(Oa||(Oa=hc(["\n  flex: 1;\n"]))),ms=l.Ay.div($a||($a=hc(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 6px;\n"]))),xs=l.Ay.button(Ta||(Ta=hc(["\n  background: #8b5cf6;\n  color: white;\n  border: none;\n  padding: 8px 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n\n  &:hover {\n    background: #7c3aed;\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"]))),gs=l.Ay.h2(Da||(Da=hc(["\n  font-size: 24px;\n  font-weight: 700;\n  color: #1f2937;\n  margin: 0;\n\n  @media (min-width: 768px) {\n    font-size: 28px;\n  }\n"]))),bs=l.Ay.div(Ia||(Ia=hc(["\n  color: #6b7280;\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),ys=l.Ay.div(Pa||(Pa=hc(["\n  background: #dbeafe;\n  color: #1d4ed8;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 14px;\n  font-weight: 500;\n  display: inline-block;\n"]))),vs=l.Ay.div(qa||(qa=hc(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),js=l.Ay.div(Ra||(Ra=hc([""]))),ws=l.Ay.h3(Ma||(Ma=hc(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #1f2937;\n  margin: 0 0 16px 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e5e7eb;\n"]))),_s=l.Ay.div(Na||(Na=hc(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),As=l.Ay.div(Ga||(Ga=hc(["\n  display: flex;\n  align-items: flex-start;\n"]))),Fs=l.Ay.div(Wa||(Wa=hc(["\n  width: 40px;\n  display: flex;\n  justify-content: center;\n  margin-top: 2px;\n  flex-shrink: 0;\n\n  svg {\n    color: #6b7280;\n    font-size: 16px;\n  }\n"]))),ks=l.Ay.div(La||(La=hc(["\n  flex: 1;\n"]))),Cs=l.Ay.div(Ua||(Ua=hc(["\n  font-size: 14px;\n  color: #6b7280;\n  margin-bottom: 2px;\n"]))),Es=l.Ay.div(Ya||(Ya=hc(["\n  color: #1f2937;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n\n  a {\n    color: #3b82f6;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]))),Ss=l.Ay.div(Ka||(Ka=hc(["\n  font-size: 14px;\n  color: #6b7280;\n  margin-top: 4px;\n\n  a {\n    color: #6b7280;\n  }\n"]))),Bs=l.Ay.span(Ha||(Ha=hc(["\n  background: #d1fae5;\n  color: #065f46;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n"]))),zs=l.Ay.div(Xa||(Xa=hc(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n"]))),Os=l.Ay.span(Va||(Va=hc(["\n  background: #f3f4f6;\n  color: #374151;\n  border: 1px solid #d1d5db;\n  padding: 6px 12px;\n  border-radius: 16px;\n  font-size: 14px;\n"]))),$s=l.Ay.div(Ja||(Ja=hc(["\n  color: #374151;\n  line-height: 1.6;\n  font-size: 16px;\n"]))),Ts=l.Ay.div(Qa||(Qa=hc(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #333;\n\n  h2 {\n    color: #e0e0e0;\n    margin: 0;\n    font-size: 20px;\n    font-weight: 600;\n  }\n"]))),Ds=l.Ay.button(Za||(Za=hc(["\n  background: none;\n  border: none;\n  color: #999;\n  cursor: pointer;\n  font-size: 20px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #333;\n    color: #fff;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),Is=l.Ay.div(nc||(nc=hc(["\n  background: #1a1a1a;\n  border: 1px solid #333;\n  border-radius: 6px;\n  padding: 15px;\n  margin-bottom: 20px;\n"]))),Ps=l.Ay.div(ec||(ec=hc(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 8px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),qs=l.Ay.span(tc||(tc=hc(["\n  color: #999;\n  font-size: 14px;\n  font-weight: 500;\n  margin-right: 10px;\n  min-width: 120px;\n"]))),Rs=l.Ay.span(rc||(rc=hc(["\n  color: #e0e0e0;\n  font-size: 14px;\n  flex: 1;\n  text-align: right;\n  word-break: break-word;\n"]))),Ms=l.Ay.div(oc||(oc=hc(["\n  color: #e0e0e0;\n  font-size: 16px;\n  margin-bottom: 20px;\n  font-weight: 500;\n"]))),Ns=l.Ay.div(ic||(ic=hc(["\n  max-height: 300px;\n  overflow-y: auto;\n  padding: 10px 0;\n  border: 1px solid #333;\n  border-radius: 6px;\n  background: #1a1a1a;\n"]))),Gs=l.Ay.div(ac||(ac=hc(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n  padding: 15px;\n\n  @media (max-width: 500px) {\n    grid-template-columns: 1fr;\n  }\n"]))),Ws=l.Ay.div(cc||(cc=hc(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  label {\n    color: #e0e0e0;\n    font-size: 14px;\n    cursor: pointer;\n    user-select: none;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n"]))),Ls=l.Ay.input(sc||(sc=hc(["\n  width: 16px;\n  height: 16px;\n  accent-color: #00ff00;\n  cursor: pointer;\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),Us=l.Ay.div(lc||(lc=hc(["\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  margin-top: 25px;\n  padding-top: 20px;\n  border-top: 1px solid #333;\n"]))),Ys=l.Ay.button(dc||(dc=hc(["\n  background: #ff4444;\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #ff6666;\n    transform: translateY(-1px);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n"]))),Ks=l.Ay.button(uc||(uc=hc(["\n  background: #333;\n  color: #e0e0e0;\n  border: 1px solid #555;\n  padding: 12px 24px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #444;\n    transform: translateY(-1px);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])));const Hs=function(){var n,e,t,r,o,a,c,s,l,p,f,m=yc((0,i.useState)([]),2),x=m[0],g=m[1],b=yc((0,i.useState)(""),2),y=b[0],v=b[1],j=yc((0,i.useState)(!1),2),w=j[0],_=j[1],A=yc((0,i.useState)(null),2),F=A[0],k=A[1],C=yc((0,i.useState)([]),2),E=C[0],S=C[1],B=yc((0,i.useState)(!1),2),z=B[0],O=B[1],$=yc((0,i.useState)(null),2),T=$[0],D=$[1],I=yc((0,i.useState)({}),2),P=I[0],q=I[1],R=yc((0,i.useState)({deleteInteractions:!0,deleteEmails:!0,deleteEmailParticipants:!0,deleteEmailThreads:!0,deleteTags:!0,deleteCities:!0,deleteCompanies:!0,deleteNotes:!0,deleteAttachments:!0,deleteContactEmails:!0,deleteContactMobiles:!0,deleteChat:!0,deleteContactChats:!0,deleteDeals:!0,deleteMeetings:!0,deleteInvestments:!0,deleteKit:!0,addToSpam:!0,addMobileToSpam:!0}),2),M=R[0],N=R[1],G=yc((0,i.useState)(!1),2),W=G[0],L=G[1],U=(0,i.useMemo)((function(){if(!y)return[];var n=y.toLowerCase();return x.filter((function(e){var t,r,o,i,a="".concat(e.first_name||""," ").concat(e.last_name||"").toLowerCase(),c=(null===(t=e.companies)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())||"",s=(null===(r=e.job_role)||void 0===r?void 0:r.toLowerCase())||"",l=(null===(o=e.emails)||void 0===o||null===(o=o[0])||void 0===o||null===(o=o.email)||void 0===o?void 0:o.toLowerCase())||"",d=(null===(i=e.mobiles)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.mobile)||void 0===i?void 0:i.toLowerCase())||"";return a.includes(n)||c.includes(n)||s.includes(n)||l.includes(n)||d.includes(n)}))}),[x,y]),Y=function(){var n=bc(pc().mark((function n(){var e,t,r,o,i,a=arguments;return pc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((e=a.length>0&&void 0!==a[0]?a[0]:"").trim()){n.next=4;break}return g([]),n.abrupt("return");case 4:return _(!0),n.prev=5,n.next=8,je.from("contacts").select("\n          *,\n          contact_emails (email, type, is_primary),\n          contact_mobiles (mobile, type, is_primary),\n          contact_companies (\n            company_id,\n            relationship,\n            is_primary,\n            companies (name, website, category)\n          ),\n          contact_tags (\n            tags (name)\n          ),\n          contact_cities (\n            cities (name, country)\n          )\n        ").or("first_name.ilike.%".concat(e,"%,last_name.ilike.%").concat(e,"%,job_role.ilike.%").concat(e,"%")).not("category","eq","Skip").not("category","eq","WhatsApp Group Contact").limit(50);case 8:if(t=n.sent,r=t.data,!(o=t.error)){n.next=13;break}throw o;case 13:i=r.map((function(n){var e,t,r;return mc(mc({},n),{},{emails:n.contact_emails||[],mobiles:n.contact_mobiles||[],companies:(null===(e=n.contact_companies)||void 0===e?void 0:e.map((function(n){return n.companies})).filter(Boolean))||[],tags:(null===(t=n.contact_tags)||void 0===t?void 0:t.map((function(n){var e;return null===(e=n.tags)||void 0===e?void 0:e.name})).filter(Boolean))||[],cities:(null===(r=n.contact_cities)||void 0===r?void 0:r.map((function(n){return n.cities})).filter(Boolean))||[]})})),g(i),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(5),console.error("Error fetching contacts:",n.t0),d.oR.error("Failed to search contacts");case 21:return n.prev=21,_(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[5,17,21,24]])})));return function(){return n.apply(this,arguments)}}();(0,i.useEffect)((function(){var n=setTimeout((function(){Y(y)}),300);return function(){return clearTimeout(n)}}),[y]);var K=function(){var n=bc(pc().mark((function n(e){var t,r,o,i,a,c,s,l,u,h,p,f,m,x,g,b,y,v,j,w,_,A,F,k;return pc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return D(e),n.prev=1,n.next=4,Promise.all([Promise.resolve({count:0}),Promise.resolve({count:0}),je.from("interactions").select("interaction_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("emails").select("email_id",{count:"exact",head:!0}).eq("sender_contact_id",e.contact_id),je.from("email_participants").select("participant_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_email_threads").select("email_thread_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_tags").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_cities").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_companies").select("contact_companies_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("notes_contacts").select("note_contact_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("attachments").select("attachment_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_emails").select("email_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_mobiles").select("mobile_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("deals_contacts").select("deals_contacts_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("meeting_contacts").select("meeting_contact_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("investments_contacts").select("investments_contacts_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("keep_in_touch").select("id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("interactions").select("interaction_id, interaction_type, direction, interaction_date, summary").eq("contact_id",e.contact_id).order("interaction_date",{ascending:!1}).limit(1)]);case 4:t=n.sent,r=yc(t,18),o=r[0],i=r[1],a=r[2],c=r[3],s=r[4],l=r[5],u=r[6],h=r[7],p=r[8],f=r[9],m=r[10],x=r[11],g=r[12],b=r[13],y=r[14],v=r[15],j=r[16],w=r[17],_=null,w.data&&(A=w.data,F=new Date(A.interaction_date).toLocaleDateString(),_={summary:"".concat(A.interaction_type," - ").concat(A.summary||"No notes"," (").concat(F,")")}),k={chatCount:o.count||0,contactChatsCount:i.count||0,interactionsCount:a.count||0,emailsCount:c.count||0,emailParticipantsCount:s.count||0,emailThreadsCount:l.count||0,tagsCount:u.count||0,citiesCount:h.count||0,companiesCount:p.count||0,notesCount:f.count||0,attachmentsCount:m.count||0,contactEmailsCount:x.count||0,contactMobilesCount:g.count||0,dealsCount:b.count||0,meetingsCount:y.count||0,investmentsCount:v.count||0,kitCount:j.count||0,lastInteraction:_},q(k),O(!0),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(1),console.error("Error fetching associated data:",n.t0),d.oR.error("Failed to load contact details");case 35:case"end":return n.stop()}}),n,null,[[1,31]])})));return function(e){return n.apply(this,arguments)}}(),H=function(n){var e=n.target,t=e.name,r=e.checked;N((function(n){return mc(mc({},n),{},xc({},t,r))}))},X=function(){var n=bc(pc().mark((function n(){var e,t,r,o,i,a,c,s,l,u;return pc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(T){n.next=2;break}return n.abrupt("return");case 2:if(n.prev=2,L(!0),!M.addToSpam||!T.email){n.next=10;break}return n.next=7,je.from("emails_spam").insert([{email:T.email,counter:1}]);case 7:e=n.sent,(t=e.error)&&console.error("Error adding to spam list:",t);case 10:if(!M.addMobileToSpam||!T.mobile){n.next=16;break}return n.next=13,je.from("whatsapp_spam").insert([{mobile_number:T.mobile,counter:1,created_at:(new Date).toISOString(),last_modified_at:(new Date).toISOString()}]);case 13:r=n.sent,(o=r.error)&&console.error("Error adding to WhatsApp spam list:",o);case 16:if(i=[],M.deleteChat&&P.chatCount>0&&i.push(je.from("chat").delete().eq("contact_id",T.contact_id)),M.deleteInteractions&&P.interactionsCount>0&&i.push(je.from("interactions").delete().eq("contact_id",T.contact_id)),!(M.deleteEmails&&P.emailsCount>0)){n.next=25;break}return n.next=22,je.from("emails").select("email_id").eq("sender_contact_id",T.contact_id);case 22:a=n.sent,(c=a.data)&&c.length>0&&(s=c.map((function(n){return n.email_id})),i.push(je.from("email_participants").delete().in("email_id",s)),i.push(je.from("emails").delete().eq("sender_contact_id",T.contact_id)));case 25:return M.deleteEmailThreads&&P.emailThreadsCount>0&&i.push(je.from("contact_email_threads").delete().eq("contact_id",T.contact_id)),M.deleteContactEmails&&P.contactEmailsCount>0&&i.push(je.from("contact_emails").delete().eq("contact_id",T.contact_id)),M.deleteContactMobiles&&P.contactMobilesCount>0&&i.push(je.from("contact_mobiles").delete().eq("contact_id",T.contact_id)),M.deleteNotes&&P.notesCount>0&&i.push(je.from("notes_contacts").delete().eq("contact_id",T.contact_id)),M.deleteAttachments&&P.attachmentsCount>0&&i.push(je.from("attachments").delete().eq("contact_id",T.contact_id)),M.deleteTags&&P.tagsCount>0&&i.push(je.from("contact_tags").delete().eq("contact_id",T.contact_id)),M.deleteCities&&P.citiesCount>0&&i.push(je.from("contact_cities").delete().eq("contact_id",T.contact_id)),M.deleteCompanies&&P.companiesCount>0&&i.push(je.from("contact_companies").delete().eq("contact_id",T.contact_id)),M.deleteContactChats&&P.contactChatsCount>0&&i.push(je.from("contact_chats").delete().eq("contact_id",T.contact_id)),M.deleteDeals&&P.dealsCount>0&&i.push(je.from("deals_contacts").delete().eq("contact_id",T.contact_id)),M.deleteMeetings&&P.meetingsCount>0&&i.push(je.from("meeting_contacts").delete().eq("contact_id",T.contact_id)),M.deleteInvestments&&P.investmentsCount>0&&i.push(je.from("investments_contacts").delete().eq("contact_id",T.contact_id)),M.deleteKit&&P.kitCount>0&&i.push(je.from("keep_in_touch").delete().eq("contact_id",T.contact_id)),n.next=40,Promise.all(i);case 40:return n.next=42,je.from("contacts").delete().eq("contact_id",T.contact_id);case 42:if(l=n.sent,!(u=l.error)){n.next=46;break}throw u;case 46:d.oR.success("Contact and selected associated records deleted successfully"),g((function(n){return n.filter((function(n){return n.contact_id!==T.contact_id}))})),F&&F.contact_id===T.contact_id&&k(null),O(!1),D(null),q({}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("refreshInboxCounts")),n.next=59;break;case 55:n.prev=55,n.t0=n.catch(2),console.error("Error deleting contact:",n.t0),d.oR.error("Failed to delete contact");case 59:return n.prev=59,L(!1),n.finish(59);case 62:case"end":return n.stop()}}),n,null,[[2,55,59,62]])})));return function(){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){var n=localStorage.getItem("contactSearchHistory");n&&S(JSON.parse(n))}),[]),(0,h.jsxs)(wc,{children:[(0,h.jsx)(d.l$,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff",borderRadius:"8px",fontSize:"14px"},success:{duration:3e3,style:{background:"#000",color:"#00ff00",border:"1px solid #00ff00"}},error:{duration:4e3,style:{background:"#000",color:"#ff0000",border:"1px solid #ff0000"}}}}),F?(0,h.jsxs)(as,{children:[(0,h.jsxs)(cs,{children:[(0,h.jsxs)(ss,{onClick:function(){k(null)},children:[(0,h.jsx)(we.QVr,{}),(0,h.jsx)("span",{children:"Back to Search"})]}),(0,h.jsxs)(ls,{children:[(null===(n=F.emails)||void 0===n?void 0:n.length)>0&&(null===(e=F.emails[0])||void 0===e?void 0:e.email)&&(0,h.jsxs)(ds,{href:"mailto:".concat(F.emails[0].email),$primary:!0,children:[(0,h.jsx)(we.maD,{}),"Email"]}),(null===(t=F.mobiles)||void 0===t?void 0:t.length)>0&&(null===(r=F.mobiles[0])||void 0===r?void 0:r.mobile)&&(0,h.jsxs)(ds,{href:"https://wa.me/".concat(F.mobiles[0].mobile.replace(/\D/g,"")),$secondary:!0,children:[(0,h.jsx)(we.Cab,{}),"WhatsApp"]})]})]}),(0,h.jsxs)(us,{children:[(0,h.jsxs)(hs,{children:[(0,h.jsx)(ps,{children:F.profile_image_url?(0,h.jsx)("img",{src:F.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(fs,{children:[(0,h.jsxs)(ms,{children:[(0,h.jsxs)(gs,{children:[F.first_name," ",F.last_name]}),(0,h.jsx)(xs,{onClick:function(){return e="".concat((n=F).first_name," ").concat(n.last_name),t="obsidian://advanced-uri?vault=".concat(encodeURIComponent("Living with Intention"),"&commandid=workspace%253Anew-file&filename=").concat(encodeURIComponent(e+".md")),window.open(t,"_self"),void d.oR.success("Opening note for ".concat(e),{duration:2e3,icon:"ðŸ“"});var n,e,t},title:"Open Obsidian note for ".concat(F.first_name," ").concat(F.last_name),children:(0,h.jsx)(we.jie,{})})]}),F.job_role&&(0,h.jsx)(bs,{children:F.job_role}),F.score&&(0,h.jsxs)(ys,{children:["Score: ",F.score]})]})]}),(0,h.jsxs)(vs,{children:[((null===(o=F.emails)||void 0===o?void 0:o.length)>0||(null===(a=F.mobiles)||void 0===a?void 0:a.length)>0)&&(0,h.jsxs)(js,{children:[(0,h.jsx)(ws,{children:"Contact Information"}),(0,h.jsxs)(_s,{children:[null===(c=F.emails)||void 0===c?void 0:c.map((function(n,e){return(0,h.jsxs)(As,{children:[(0,h.jsx)(Fs,{children:(0,h.jsx)(we.maD,{})}),(0,h.jsxs)(ks,{children:[(0,h.jsxs)(Cs,{children:[n.type," Email"]}),(0,h.jsxs)(Es,{children:[(0,h.jsx)("a",{href:"mailto:".concat(n.email),children:n.email}),n.is_primary&&(0,h.jsx)(Bs,{children:"Primary"})]})]})]},"email-".concat(e))})),null===(s=F.mobiles)||void 0===s?void 0:s.map((function(n,e){return(0,h.jsxs)(As,{children:[(0,h.jsx)(Fs,{children:(0,h.jsx)(we.Cab,{})}),(0,h.jsxs)(ks,{children:[(0,h.jsxs)(Cs,{children:[n.type," Phone"]}),(0,h.jsxs)(Es,{children:[(0,h.jsx)("a",{href:"https://wa.me/".concat(n.mobile.replace(/\D/g,"")),children:n.mobile}),n.is_primary&&(0,h.jsx)(Bs,{children:"Primary"})]})]})]},"mobile-".concat(e))}))]})]}),(null===(l=F.companies)||void 0===l?void 0:l.length)>0&&(0,h.jsxs)(js,{children:[(0,h.jsx)(ws,{children:"Company Information"}),(0,h.jsx)(_s,{children:F.companies.map((function(n,e){return(0,h.jsxs)(As,{children:[(0,h.jsx)(Fs,{children:(0,h.jsx)(we.ymh,{})}),(0,h.jsxs)(ks,{children:[(0,h.jsx)(Cs,{children:"Company"}),(0,h.jsx)(Es,{children:n.name}),n.website&&(0,h.jsx)(Ss,{children:(0,h.jsx)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",children:n.website})})]})]},"company-".concat(e))}))})]}),(null===(p=F.cities)||void 0===p?void 0:p.length)>0&&(0,h.jsxs)(js,{children:[(0,h.jsx)(ws,{children:"Location"}),(0,h.jsx)(_s,{children:F.cities.map((function(n,e){return(0,h.jsxs)(As,{children:[(0,h.jsx)(Fs,{children:(0,h.jsx)(we.vq8,{})}),(0,h.jsxs)(ks,{children:[(0,h.jsx)(Cs,{children:"Location"}),(0,h.jsxs)(Es,{children:[n.name,", ",n.country]})]})]},"city-".concat(e))}))})]}),(null===(f=F.tags)||void 0===f?void 0:f.length)>0&&(0,h.jsxs)(js,{children:[(0,h.jsx)(ws,{children:"Tags"}),(0,h.jsx)(zs,{children:F.tags.map((function(n,e){return(0,h.jsx)(Os,{children:n},e)}))})]}),F.description&&(0,h.jsxs)(js,{children:[(0,h.jsx)(ws,{children:"Notes"}),(0,h.jsx)($s,{children:F.description})]}),F.linkedin&&(0,h.jsxs)(js,{children:[(0,h.jsx)(ws,{children:"Social Media"}),(0,h.jsx)(_s,{children:(0,h.jsx)(As,{children:(0,h.jsxs)(ks,{children:[(0,h.jsx)(Cs,{children:"LinkedIn Profile"}),(0,h.jsx)(Es,{children:(0,h.jsx)("a",{href:F.linkedin,target:"_blank",rel:"noopener noreferrer",children:"View LinkedIn Profile"})})]})})})]})]})]})]}):(0,h.jsxs)(_c,{children:[(0,h.jsx)(Ac,{children:(0,h.jsxs)(Fc,{children:[(0,h.jsxs)(kc,{children:[(0,h.jsx)(Ec,{children:"Contact Search"}),(0,h.jsx)(Sc,{children:"Find and connect with your contacts"})]}),(0,h.jsx)(Cc,{onClick:function(){return window.location.href="https://crm-editor-frontend.netlify.app/interactions"},title:"Switch to Interactions",children:(0,h.jsx)(we.w_X,{})})]})}),(0,h.jsxs)(Bc,{children:[(0,h.jsxs)(zc,{children:[(0,h.jsx)(Oc,{children:(0,h.jsx)(we.KSO,{})}),(0,h.jsx)($c,{type:"text",placeholder:"Search contacts by name, company, role, email, or phone...",value:y,onChange:function(n){return v(n.target.value)},autoFocus:!0})]}),w&&(0,h.jsxs)(Tc,{children:[(0,h.jsx)(Dc,{}),(0,h.jsx)(Ic,{children:"Searching..."})]}),y&&!w&&(0,h.jsxs)(Pc,{children:[U.length," contact",1!==U.length?"s":""," found"]})]}),(0,h.jsxs)(qc,{children:[U.map((function(n){var e,t,r,o;return(0,h.jsxs)(Rc,{children:[(0,h.jsxs)(Mc,{onClick:function(){return function(n){k(n);var e,t=[n.contact_id].concat((e=E.filter((function(e){return e!==n.contact_id})),function(n){if(Array.isArray(n))return jc(n)}(e)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(e)||vc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).slice(0,5);S(t),localStorage.setItem("contactSearchHistory",JSON.stringify(t))}(n)},children:[(0,h.jsxs)(Wc,{children:[(0,h.jsx)(Lc,{children:n.profile_image_url?(0,h.jsx)("img",{src:n.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(Uc,{children:[(0,h.jsxs)(Yc,{children:[n.first_name," ",n.last_name,n.category&&(0,h.jsx)(Kc,{category:n.category,children:n.category})]}),n.job_role&&(0,h.jsx)(Hc,{children:n.job_role}),n.companies[0]&&(0,h.jsxs)(Xc,{children:[(0,h.jsx)(we.ymh,{style:{marginRight:"6px"}}),n.companies[0].name]})]})]}),(0,h.jsxs)(Vc,{children:[(null===(e=n.emails)||void 0===e?void 0:e.length)>0&&(null===(t=n.emails[0])||void 0===t?void 0:t.email)&&(0,h.jsxs)(Jc,{children:[(0,h.jsx)(we.maD,{}),(0,h.jsx)("span",{children:n.emails[0].email})]}),(null===(r=n.mobiles)||void 0===r?void 0:r.length)>0&&(null===(o=n.mobiles[0])||void 0===o?void 0:o.mobile)&&(0,h.jsxs)(Jc,{children:[(0,h.jsx)(we.Cab,{}),(0,h.jsx)("span",{children:n.mobiles[0].mobile})]})]})]}),(0,h.jsxs)(Nc,{children:[(0,h.jsx)(Gc,{onClick:function(e){var t,r,o;e.stopPropagation(),t=n.contact_id,r="/contacts/workflow/".concat(t,"?step=2"),(o=window.open(r,"_blank"))&&(o.focus(),setTimeout((function(){o.document&&o.document.documentElement&&o.document.documentElement.requestFullscreen?o.document.documentElement.requestFullscreen().catch((function(){o.moveTo(0,0),o.resizeTo(window.screen.availWidth,window.screen.availHeight)})):(o.moveTo(0,0),o.resizeTo(window.screen.availWidth,window.screen.availHeight))}),100))},$edit:!0,children:(0,h.jsx)(we.uO9,{})}),(0,h.jsx)(Gc,{onClick:function(e){var t,r,o,i;e.stopPropagation(),i=mc(mc({},t=n),{},{email:(null===(r=t.emails)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.email)||null,mobile:(null===(o=t.mobiles)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.mobile)||null}),K(i)},$spam:!0,children:(0,h.jsx)(u.eHT,{})})]})]},n.contact_id)})),y&&!w&&0===U.length&&(0,h.jsxs)(Qc,{children:[(0,h.jsx)(Zc,{children:"ðŸ”"}),(0,h.jsx)(ns,{children:"No contacts found"}),(0,h.jsx)(es,{children:"Try searching with different keywords or check your spelling"})]}),!y&&(0,h.jsxs)(ts,{children:[(0,h.jsx)(rs,{children:"ðŸ‘‹"}),(0,h.jsx)(os,{children:"Welcome to Contact Search"}),(0,h.jsx)(is,{children:"Start typing to search your contacts by name, company, role, email, or phone number"})]})]})]}),(0,h.jsxs)(Ae(),{isOpen:z,onRequestClose:function(){return O(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"600px",width:"90%",backgroundColor:"#121212",border:"1px solid #333",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.6)",color:"#e0e0e0",zIndex:1001},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1e3}},children:[(0,h.jsxs)(Ts,{children:[(0,h.jsx)("h2",{children:"Delete Contact and Associated Data"}),(0,h.jsx)(Ds,{onClick:function(){return O(!1)},disabled:W,children:(0,h.jsx)(u.yGN,{})})]}),T&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Is,{children:(0,h.jsx)(Ps,{children:(0,h.jsxs)(Rs,{children:[T.first_name," ",T.last_name,T.email?" (".concat(T.email,")"):T.mobile?" (".concat(T.mobile,")"):""]})})}),(0,h.jsxs)(Ps,{style:{marginTop:"15px",marginBottom:"15px"},children:[(0,h.jsx)(qs,{children:"Last Interaction:"}),(0,h.jsx)(Rs,{children:P.lastInteraction?P.lastInteraction.summary:"None"})]}),(0,h.jsx)(Ms,{children:"Select which items to delete:"}),(0,h.jsx)(Ns,{children:(0,h.jsxs)(Gs,{children:[P.interactionsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteInteractions",name:"deleteInteractions",checked:M.deleteInteractions,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteInteractions",children:["Interactions (",P.interactionsCount,")"]})]}),P.emailsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteEmails",name:"deleteEmails",checked:M.deleteEmails,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteEmails",children:["Emails (",P.emailsCount,")"]})]}),P.emailParticipantsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteEmailParticipants",name:"deleteEmailParticipants",checked:M.deleteEmailParticipants,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteEmailParticipants",children:["Email Participants (",P.emailParticipantsCount,")"]})]}),P.emailThreadsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteEmailThreads",name:"deleteEmailThreads",checked:M.deleteEmailThreads,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteEmailThreads",children:["Email Threads (",P.emailThreadsCount,")"]})]}),P.tagsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteTags",name:"deleteTags",checked:M.deleteTags,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteTags",children:["Tags (",P.tagsCount,")"]})]}),P.citiesCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteCities",name:"deleteCities",checked:M.deleteCities,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteCities",children:["Cities (",P.citiesCount,")"]})]}),P.companiesCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteCompanies",name:"deleteCompanies",checked:M.deleteCompanies,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteCompanies",children:["Companies (",P.companiesCount,")"]})]}),P.notesCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteNotes",name:"deleteNotes",checked:M.deleteNotes,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteNotes",children:["Notes (",P.notesCount,")"]})]}),P.attachmentsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteAttachments",name:"deleteAttachments",checked:M.deleteAttachments,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteAttachments",children:["Attachments (",P.attachmentsCount,")"]})]}),P.contactEmailsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteContactEmails",name:"deleteContactEmails",checked:M.deleteContactEmails,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteContactEmails",children:["Contact Emails (",P.contactEmailsCount,")"]})]}),P.contactMobilesCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteContactMobiles",name:"deleteContactMobiles",checked:M.deleteContactMobiles,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteContactMobiles",children:["Contact Mobiles (",P.contactMobilesCount,")"]})]}),P.dealsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteDeals",name:"deleteDeals",checked:M.deleteDeals,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteDeals",children:["Deals (",P.dealsCount,")"]})]}),P.meetingsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteMeetings",name:"deleteMeetings",checked:M.deleteMeetings,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteMeetings",children:["Meetings (",P.meetingsCount,")"]})]}),P.investmentsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteInvestments",name:"deleteInvestments",checked:M.deleteInvestments,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteInvestments",children:["Investments (",P.investmentsCount,")"]})]}),P.kitCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteKit",name:"deleteKit",checked:M.deleteKit,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteKit",children:["Keep in Touch (",P.kitCount,")"]})]}),P.chatCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteChat",name:"deleteChat",checked:M.deleteChat,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteChat",children:["Chat (",P.chatCount,")"]})]}),P.contactChatsCount>0&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"deleteContactChats",name:"deleteContactChats",checked:M.deleteContactChats,onChange:H,disabled:W}),(0,h.jsxs)("label",{htmlFor:"deleteContactChats",children:["Contact Chats (",P.contactChatsCount,")"]})]}),T.email&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"addToSpam",name:"addToSpam",checked:M.addToSpam,onChange:H,disabled:W}),(0,h.jsx)("label",{htmlFor:"addToSpam",children:"Add email to spam list"})]}),T.mobile&&(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Ls,{type:"checkbox",id:"addMobileToSpam",name:"addMobileToSpam",checked:M.addMobileToSpam,onChange:H,disabled:W}),(0,h.jsx)("label",{htmlFor:"addMobileToSpam",children:"Add mobile to WhatsApp spam list"})]})]})}),(0,h.jsxs)(Us,{children:[(0,h.jsx)(Ys,{onClick:X,disabled:W,children:W?"Deleting...":"Delete Selected Items"}),(0,h.jsx)(Ks,{onClick:function(){return O(!1)},disabled:W,children:"Cancel"})]})]})]})]})};function Xs(n){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xs(n)}var Vs,Js,Qs,Zs,nl,el,tl,rl,ol,il,al,cl,sl,ll,dl,ul,hl,pl,fl,ml,xl,gl,bl,yl,vl,jl,wl,_l,Al,Fl,kl,Cl,El,Sl,Bl,zl,Ol,$l,Tl,Dl,Il,Pl,ql,Rl,Ml,Nl,Gl,Wl,Ll,Ul,Yl,Kl,Hl,Xl,Vl,Jl,Ql,Zl,nd,ed,td,rd,od,id,ad,cd,sd,ld;function dd(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function ud(){ud=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(n,e,t,r){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r})}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype);return s(a,"_invoke",function(e,t,r){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var l=d(e,t,r);if("normal"===l.type){if(o=r.done?4:2,l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=4,r.method="throw",r.arg=l.arg)}}}(e,r,new A(o||[])),!0),a}function d(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}e.wrap=l;var u={};function h(){}function p(){}function f(){}var m={};s(m,i,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(F([])));g&&g!==t&&r.call(g,i)&&(m=g);var b=f.prototype=h.prototype=Object.create(m);function y(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function v(n,e){function t(o,i,a,c){var s=d(n[o],n,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Xs(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(n){t("next",n,a,c)}),(function(n){t("throw",n,a,c)})):e.resolve(u).then((function(n){l.value=n,a(l)}),(function(n){return t("throw",n,a,c)}))}c(s.arg)}var o;s(this,"_invoke",(function(n,r){function i(){return new e((function(e,o){t(n,r,e,o)}))}return o=o?o.then(i,i):i()}),!0)}function j(e,t){var r=t.method,o=e.i[r];if(o===n)return t.delegate=null,"throw"===r&&e.i.return&&(t.method="return",t.arg=n,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var i=d(o,e.i,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.r]=a.value,t.next=e.n,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(n){this.tryEntries.push(n)}function _(e){var t=e[4]||{};t.type="normal",t.arg=n,e[4]=t}function A(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function F(e){if(null!=e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(Xs(e)+" is not iterable")}return p.prototype=f,s(b,"constructor",f),s(f,"constructor",p),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,s(n,c,"GeneratorFunction")),n.prototype=Object.create(b),n},e.awrap=function(n){return{__await:n}},y(v.prototype),s(v.prototype,a,(function(){return this})),e.AsyncIterator=v,e.async=function(n,t,r,o,i){void 0===i&&(i=Promise);var a=new v(l(n,t,r,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(n){var e=Object(n),t=[];for(var r in e)t.unshift(r);return function n(){for(;t.length;)if((r=t.pop())in e)return n.value=r,n.done=!1,n;return n.done=!0,n}},e.values=F,A.prototype={constructor:A,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n){a.type="throw",a.arg=e,t.next=n}for(var o=t.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],c=this.prev,s=i[1],l=i[2];if(-1===i[0])return r("end"),!1;if(!s&&!l)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=c){if(c<s)return this.method="next",this.arg=n,r(s),!0;if(c<l)return r(l),!1}}},abrupt:function(n,e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===n||"continue"===n)&&o[0]<=e&&e<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=e,o?(this.method="next",this.next=o[2],u):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),u},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[2]===n)return this.complete(t[4],t[3]),_(t),u}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[0]===n){var r=t[4];if("throw"===r.type){var o=r.arg;_(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={i:F(e),r:t,n:r},"next"===this.method&&(this.arg=n),u}},e}function hd(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function pd(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?hd(Object(t),!0).forEach((function(e){fd(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hd(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function fd(n,e,t){return(e=function(n){var e=function(n){if("object"!=Xs(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Xs(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Xs(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function md(n,e,t,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function xd(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){md(i,r,o,a,c,"next",n)}function c(n){md(i,r,o,a,c,"throw",n)}a(void 0)}))}}function gd(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,e)||bd(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bd(n,e){if(n){if("string"==typeof n)return yd(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yd(n,e):void 0}}function yd(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var vd=l.Ay.div(Vs||(Vs=dd(["\n  min-height: 100vh;\n  background: ",";\n  transition: background-color 0.3s ease;\n"])),(function(n){return"light"===n.theme?"#F9FAFB":"#111827"})),jd=l.Ay.div(Js||(Js=dd(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]))),wd=l.Ay.div(Qs||(Qs=dd(["\n  background: ",";\n  border-bottom: 1px solid ",";\n  padding: 24px 20px;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),_d=l.Ay.div(Zs||(Zs=dd(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),Ad=l.Ay.div(nl||(nl=dd(["\n  flex: 1;\n"]))),Fd=l.Ay.h1(el||(el=dd(["\n  font-size: 28px;\n  font-weight: 700;\n  color: ",";\n  margin: 0 0 8px 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),kd=l.Ay.p(tl||(tl=dd(["\n  color: ",";\n  margin: 0;\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Cd=l.Ay.button(rl||(rl=dd(["\n  background: ",";\n  color: white;\n  border: none;\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  ","\n\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"}),(function(n){return n.$isRefreshing&&"\n    svg {\n      animation: spin 1s linear infinite;\n    }\n  "})),Ed=l.Ay.div(ol||(ol=dd(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 60px 20px;\n"]))),Sd=l.Ay.div(il||(il=dd(["\n  width: 24px;\n  height: 24px;\n  border: 3px solid #E5E7EB;\n  border-top: 3px solid #3B82F6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n"]))),Bd=l.Ay.span(al||(al=dd(["\n  color: ",";\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),zd=l.Ay.div(cl||(cl=dd(["\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  max-width: 1200px;\n  margin: 0 auto;\n  width: 100%;\n"]))),Od=l.Ay.div(sl||(sl=dd(["\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  display: flex;\n  gap: 20px;\n  align-items: flex-start;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n  }\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return{critical:"#DC2626",high:"#EF4444",medium:"#F59E0B",due:"#3B82F6",upcoming:"#10B981"}[n.$priority]||("light"===n.theme?"#E5E7EB":"#374151")})),$d=l.Ay.div(ll||(ll=dd(["\n  flex: 1;\n  cursor: pointer;\n  min-width: 0;\n"]))),Td=l.Ay.div(dl||(dl=dd(["\n  display: flex;\n  align-items: flex-start;\n  gap: 16px;\n  margin-bottom: 16px;\n"]))),Dd=l.Ay.div(ul||(ul=dd(["\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: #F3F4F6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  border: 3px solid #E5E7EB;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9CA3AF;\n    font-size: 24px;\n  }\n"]))),Id=l.Ay.div(hl||(hl=dd(["\n  flex: 1;\n  min-width: 0;\n"]))),Pd=l.Ay.div(pl||(pl=dd(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 8px;\n  flex-shrink: 0;\n"]))),qd=l.Ay.div(fl||(fl=dd(["\n  font-weight: 600;\n  color: ",";\n  font-size: 18px;\n  margin-bottom: 6px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Rd=l.Ay.div(ml||(ml=dd(["\n  background: ",";\n  color: white;\n  font-size: 12px;\n  font-weight: 600;\n  padding: 3px 8px;\n  border-radius: 6px;\n"])),(function(n){return n.$color})),Md=l.Ay.div(xl||(xl=dd(["\n  color: ",";\n  font-size: 14px;\n  margin-bottom: 4px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Nd=l.Ay.div(gl||(gl=dd(["\n  color: ",";\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  svg {\n    font-size: 12px;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Gd=l.Ay.div(bl||(bl=dd(["\n  background: ",";\n  color: white;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"])),(function(n){return n.$color})),Wd=l.Ay.div(yl||(yl=dd(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"])),(function(n){return n.$isOverdue?"#EF4444":"#6B7280"})),Ld=l.Ay.div(vl||(vl=dd(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),Ud=l.Ay.div(jl||(jl=dd(["\n  color: ",";\n  font-size: 14px;\n  background: ",";\n  padding: 8px 12px;\n  border-radius: 6px;\n  border-left: 3px solid #10B981;\n"])),(function(n){return"light"===n.theme?"#374151":"#D1D5DB"}),(function(n){return"light"===n.theme?"#F9FAFB":"#374151"})),Yd=l.Ay.div(wl||(wl=dd(["\n  color: ",";\n  font-size: 14px;\n  background: ",";\n  padding: 8px 12px;\n  border-radius: 6px;\n  border-left: 3px solid #F59E0B;\n"])),(function(n){return"light"===n.theme?"#374151":"#D1D5DB"}),(function(n){return"light"===n.theme?"#FEF3C7":"#451A03"})),Kd=l.Ay.div(_l||(_l=dd(["\n  color: ",";\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  svg {\n    font-size: 12px;\n    flex-shrink: 0;\n  }\n\n  span {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Hd=l.Ay.div(Al||(Al=dd(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: flex-end;\n"]))),Xd=l.Ay.button(Fl||(Fl=dd(["\n  background: ",";\n  color: white;\n  border: none;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n"])),(function(n){return n.$done?"#10B981":n.$snooze?"#F59E0B":n.$edit?"#3B82F6":n.$remove?"#EF4444":"#6B7280"})),Vd=l.Ay.div(kl||(kl=dd(["\n  text-align: center;\n  padding: 80px 20px;\n"]))),Jd=l.Ay.div(Cl||(Cl=dd(["\n  font-size: 64px;\n  margin-bottom: 20px;\n"]))),Qd=l.Ay.h3(El||(El=dd(["\n  font-size: 20px;\n  font-weight: 600;\n  color: ",";\n  margin: 0 0 12px 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Zd=l.Ay.p(Sl||(Sl=dd(["\n  color: ",";\n  margin: 0;\n  font-size: 16px;\n  line-height: 1.5;\n  max-width: 500px;\n  margin-left: auto;\n  margin-right: auto;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),nu=l.Ay.div(Bl||(Bl=dd(["\n  height: 100vh;\n  background: ",";\n  display: flex;\n  flex-direction: column;\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"})),eu=l.Ay.div(zl||(zl=dd(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid ",";\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: ",";\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"}),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"})),tu=l.Ay.button(Ol||(Ol=dd(["\n  background: none;\n  border: none;\n  color: ",";\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 0;\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"])),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"})),ru=l.Ay.div($l||($l=dd(["\n  display: flex;\n  gap: 8px;\n"]))),ou=l.Ay.a(Tl||(Tl=dd(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 12px 20px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  text-decoration: none;\n  transition: all 0.2s ease;\n\n  ","\n\n  ","\n"])),(function(n){return n.$primary&&"\n    background: #3B82F6;\n    color: white;\n\n    &:hover {\n      background: #2563EB;\n      color: white;\n    }\n  "}),(function(n){return n.$secondary&&"\n    background: #10B981;\n    color: white;\n\n    &:hover {\n      background: #059669;\n      color: white;\n    }\n  "})),iu=l.Ay.div(Dl||(Dl=dd(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px 20px;\n  max-width: 1000px;\n  margin: 0 auto;\n  width: 100%;\n"]))),au=l.Ay.div(Il||(Il=dd(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid ",";\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),cu=l.Ay.div(Pl||(Pl=dd(["\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: #F3F4F6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 16px;\n  flex-shrink: 0;\n  border: 3px solid #E5E7EB;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9CA3AF;\n    font-size: 32px;\n  }\n"]))),su=l.Ay.div(ql||(ql=dd(["\n  flex: 1;\n"]))),lu=l.Ay.div(Rl||(Rl=dd(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 6px;\n"]))),du=l.Ay.h2(Ml||(Ml=dd(["\n  font-size: 24px;\n  font-weight: 700;\n  color: ",";\n  margin: 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),uu=l.Ay.div(Nl||(Nl=dd(["\n  color: ",";\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),hu=l.Ay.button(Gl||(Gl=dd(["\n  background: #8B5CF6;\n  color: white;\n  border: none;\n  padding: 8px 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n\n  &:hover {\n    background: #7C3AED;\n    transform: translateY(-1px);\n  }\n"]))),pu=l.Ay.div(Wl||(Wl=dd(["\n  margin-bottom: 32px;\n"]))),fu=l.Ay.h3(Ll||(Ll=dd(["\n  font-size: 18px;\n  font-weight: 600;\n  color: ",";\n  margin: 0 0 16px 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid ",";\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),mu=l.Ay.div(Ul||(Ul=dd(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16px;\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),xu=l.Ay.div(Yl||(Yl=dd(["\n  ","\n"])),(function(n){return n.$fullWidth&&"\n    grid-column: 1 / -1;\n  "})),gu=l.Ay.div(Kl||(Kl=dd(["\n  font-size: 14px;\n  font-weight: 500;\n  color: ",";\n  margin-bottom: 4px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),bu=l.Ay.div(Hl||(Hl=dd(["\n  font-size: 16px;\n  color: ",";\n  line-height: 1.4;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),yu=l.Ay.div(Xl||(Xl=dd(["\n  margin-bottom: 32px;\n"]))),vu=l.Ay.div(Vl||(Vl=dd(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n"]))),ju=l.Ay.button(Jl||(Jl=dd(["\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 12px;\n  padding: 20px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n\n  &:hover {\n    border-color: ",";\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#374151"}),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}),(function(n){return n.$color})),wu=l.Ay.div(Ql||(Ql=dd(["\n  background: ",";\n  color: white;\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n"])),(function(n){return n.$color})),_u=l.Ay.span(Zl||(Zl=dd(["\n  font-size: 16px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Au=l.Ay.span(nd||(nd=dd(["\n  font-size: 14px;\n  color: ",";\n  text-align: center;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Fu=l.Ay.div(ed||(ed=dd(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid ",";\n\n  h2 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n  }\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),ku=l.Ay.button(td||(td=dd(["\n  background: none;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  font-size: 20px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"}),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Cu=l.Ay.div(rd||(rd=dd(["\n  margin-bottom: 20px;\n  color: ",";\n  line-height: 1.5;\n"])),(function(n){return"light"===n.theme?"#374151":"#D1D5DB"})),Eu=l.Ay.div(od||(od=dd(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 16px;\n"]))),Su=l.Ay.button(id||(id=dd(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 8px 16px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n  font-weight: 500;\n\n  &:hover {\n    background: ",";\n    color: white;\n    border-color: ",";\n  }\n"])),(function(n){return n.$selected?"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return n.$selected?"white":"light"===n.theme?"#374151":"#F9FAFB"}),(function(n){return n.$selected?"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#D1D5DB":"#4B5563"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"})),Bu=l.Ay.textarea(ad||(ad=dd(["\n  width: 100%;\n  padding: 12px;\n  border: 1px solid ",";\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-size: 14px;\n  resize: vertical;\n  margin-top: 16px;\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n    box-shadow: 0 0 0 3px ",";\n  }\n\n  &::placeholder {\n    color: ",";\n  }\n"])),(function(n){return"light"===n.theme?"#D1D5DB":"#4B5563"}),(function(n){return"light"===n.theme?"#FFFFFF":"#374151"}),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"}),(function(n){return"light"===n.theme?"rgba(59, 130, 246, 0.1)":"rgba(96, 165, 250, 0.1)"}),(function(n){return"light"===n.theme?"#9CA3AF":"#6B7280"})),zu=l.Ay.div(cd||(cd=dd(["\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n"]))),Ou=l.Ay.button(sd||(sd=dd(["\n  background: ",";\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: ",";\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.$danger?"#EF4444":"#3B82F6"}),(function(n){return n.$danger?"#DC2626":"#2563EB"})),$u=l.Ay.button(ld||(ld=dd(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: ",";\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#374151":"#F9FAFB"}),(function(n){return"light"===n.theme?"#D1D5DB":"#4B5563"}),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}));const Tu=function(n){var e,t,r,o,a,c,s,l,p,f,m,x,g,b,y,v,j=n.theme,w=gd((0,i.useState)([]),2),_=w[0],A=w[1],F=gd((0,i.useState)(!0),2),k=F[0],C=F[1],E=gd((0,i.useState)(null),2),S=E[0],B=E[1],z=gd((0,i.useState)(!1),2),O=z[0],$=z[1],T=gd((0,i.useState)(!1),2),D=T[0],I=T[1],P=gd((0,i.useState)(null),2),q=P[0],R=P[1],M=gd((0,i.useState)(7),2),N=M[0],G=M[1],W=gd((0,i.useState)(!1),2),L=W[0],U=W[1],Y=gd((0,i.useState)(!1),2),K=Y[0],H=Y[1],X=gd((0,i.useState)(null),2),V=X[0],J=X[1],Q=gd((0,i.useState)(""),2),Z=Q[0],nn=Q[1],en=gd((0,i.useState)(!1),2),tn=en[0],rn=en[1],on=gd((0,i.useState)(!1),2),an=on[0],cn=on[1],sn=gd((0,i.useState)(null),2),ln=sn[0],dn=sn[1],un=gd((0,i.useState)(!1),2),hn=un[0],pn=un[1],fn=function(){var n=xd(ud().mark((function n(){var e,t,r,o,i;return ud().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return C(!0),n.prev=1,n.next=4,je.from("keep_in_touch").select("\n          *,\n          contacts (\n            *,\n            contact_emails (email, type, is_primary),\n            contact_mobiles (mobile, type, is_primary),\n            contact_companies (\n              company_id,\n              relationship,\n              is_primary,\n              companies (name, website, category)\n            ),\n            contact_tags (\n              tags (name)\n            ),\n            contact_cities (\n              cities (name, country)\n            )\n          )\n        ").order("created_at",{ascending:!1});case 4:if(e=n.sent,t=e.data,!(r=e.error)){n.next=9;break}throw r;case 9:o=new Date,i=t.map((function(n){var e,t,r,i=n.contacts;if(!i)return null;var a=new Date;a=i.last_interaction_at?new Date(i.last_interaction_at):new Date(n.created_at);var c=mn(n.frequency);a.setDate(a.getDate()+c),n.snooze_days&&a.setDate(a.getDate()+n.snooze_days);var s=Math.floor((a-o)/864e5);return pd(pd({},n),{},{contact:pd(pd({},i),{},{emails:i.contact_emails||[],mobiles:i.contact_mobiles||[],companies:(null===(e=i.contact_companies)||void 0===e?void 0:e.map((function(n){return n.companies})).filter(Boolean))||[],tags:(null===(t=i.contact_tags)||void 0===t?void 0:t.map((function(n){var e;return null===(e=n.tags)||void 0===e?void 0:e.name})).filter(Boolean))||[],cities:(null===(r=i.contact_cities)||void 0===r?void 0:r.map((function(n){return n.cities})).filter(Boolean))||[]}),nextFollowUpDate:a,daysDifference:s,isOverdue:s<0,isDueSoon:s>=0&&s<=3})})).filter(Boolean).filter((function(n){return n.isOverdue||n.isDueSoon})),A(i),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(1),console.error("Error fetching keep in touch contacts:",n.t0),d.oR.error("Failed to load keep in touch contacts");case 18:return n.prev=18,C(!1),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[1,14,18,21]])})));return function(){return n.apply(this,arguments)}}(),mn=function(n){switch(n){case"Weekly":return 7;case"Bi-Weekly":return 14;case"Monthly":default:return 30;case"Quarterly":return 90;case"Bi-Annually":return 180;case"Annually":return 365}},xn=function(n){switch(n){case"Weekly":return"#EF4444";case"Bi-Weekly":return"#F59E0B";case"Monthly":return"#3B82F6";case"Quarterly":return"#10B981";case"Bi-Annually":return"#8B5CF6";default:return"#6B7280"}},gn=function(n){return n<-7?{level:"critical",color:"#DC2626",text:"Critical"}:n<-3?{level:"high",color:"#EF4444",text:"High"}:n<0?{level:"medium",color:"#F59E0B",text:"Medium"}:n<=1?{level:"due",color:"#3B82F6",text:"Due"}:{level:"upcoming",color:"#10B981",text:"Soon"}};(0,i.useEffect)((function(){fn();var n=setInterval((function(){fn()}),6e4);return function(){return clearInterval(n)}}),[]);var bn=function(){var n=xd(ud().mark((function n(){return ud().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return $(!0),n.next=3,fn();case 3:setTimeout((function(){return $(!1)}),1e3);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),yn=function(n){R(n),G(7),I(!0)},vn=function(){var n=xd(ud().mark((function n(){var e,t;return ud().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(q&&N){n.next=2;break}return n.abrupt("return");case 2:return U(!0),n.prev=3,n.next=6,je.from("keep_in_touch").update({snooze_days:N,updated_at:(new Date).toISOString()}).eq("id",q.id);case 6:if(e=n.sent,!(t=e.error)){n.next=10;break}throw t;case 10:d.oR.success("Contact snoozed for ".concat(N," day").concat(1!==N?"s":"")),A((function(n){return n.filter((function(n){return n.id!==q.id}))})),S&&S.id===q.id&&B(null),I(!1),R(null),G(7),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(3),console.error("Error snoozing contact:",n.t0),d.oR.error("Failed to snooze contact");case 22:return n.prev=22,U(!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[3,18,22,25]])})));return function(){return n.apply(this,arguments)}}(),jn=function(n){J(n),nn(""),H(!0)},wn=function(){var n=xd(ud().mark((function n(){var e,t,r,o,i,a;return ud().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(V){n.next=2;break}return n.abrupt("return");case 2:return rn(!0),n.prev=3,n.next=6,je.from("contacts").update({last_interaction_at:(new Date).toISOString()}).eq("contact_id",V.contact.contact_id);case 6:if(e=n.sent,!(t=e.error)){n.next=10;break}throw t;case 10:if(!Z.trim()){n.next=16;break}return n.next=13,je.from("interactions").insert([{contact_id:V.contact.contact_id,interaction_type:"Follow-up",direction:"Outbound",interaction_date:(new Date).toISOString(),summary:Z.trim(),created_at:(new Date).toISOString()}]);case 13:r=n.sent,(o=r.error)&&console.warn("Failed to create interaction record:",o);case 16:return n.next=18,je.from("keep_in_touch").update({snooze_days:null,updated_at:(new Date).toISOString()}).eq("id",V.id);case 18:if(i=n.sent,!(a=i.error)){n.next=22;break}throw a;case 22:d.oR.success("Contact marked as done! Next follow-up scheduled."),A((function(n){return n.filter((function(n){return n.id!==V.id}))})),S&&S.id===V.id&&B(null),H(!1),J(null),nn(""),n.next=34;break;case 30:n.prev=30,n.t0=n.catch(3),console.error("Error marking contact as done:",n.t0),d.oR.error("Failed to mark contact as done");case 34:return n.prev=34,rn(!1),n.finish(34);case 37:case"end":return n.stop()}}),n,null,[[3,30,34,37]])})));return function(){return n.apply(this,arguments)}}(),_n=function(n){dn(n),cn(!0)},An=function(){var n=xd(ud().mark((function n(){var e,t;return ud().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(ln){n.next=2;break}return n.abrupt("return");case 2:return pn(!0),n.prev=3,n.next=6,je.from("keep_in_touch").delete().eq("id",ln.id);case 6:if(e=n.sent,!(t=e.error)){n.next=10;break}throw t;case 10:d.oR.success("Contact removed from Keep in Touch"),A((function(n){return n.filter((function(n){return n.id!==ln.id}))})),S&&S.id===ln.id&&B(null),cn(!1),dn(null),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(3),console.error("Error removing contact from keep in touch:",n.t0),d.oR.error("Failed to remove contact");case 21:return n.prev=21,pn(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[3,17,21,24]])})));return function(){return n.apply(this,arguments)}}(),Fn=function(n){if(n<0){var e=Math.abs(n);return"".concat(e," day").concat(1!==e?"s":""," overdue")}return 0===n?"Due today":1===n?"Due tomorrow":"Due in ".concat(n," day").concat(1!==n?"s":"")},kn=(0,i.useMemo)((function(){return(n=_,function(n){if(Array.isArray(n))return yd(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||bd(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(n,e){return n.daysDifference!==e.daysDifference?n.daysDifference-e.daysDifference:new Date(n.created_at)-new Date(e.created_at)}));var n}),[_]);return(0,h.jsxs)(vd,{theme:j,children:[S?(0,h.jsxs)(nu,{theme:j,children:[(0,h.jsxs)(eu,{theme:j,children:[(0,h.jsxs)(tu,{theme:j,onClick:function(){B(null)},children:[(0,h.jsx)(u.zd,{}),(0,h.jsx)("span",{children:"Back to Keep in Touch"})]}),(0,h.jsxs)(ru,{children:[(null===(e=S.contact)||void 0===e||null===(e=e.emails)||void 0===e?void 0:e.length)>0&&(null===(t=S.contact.emails[0])||void 0===t?void 0:t.email)&&(0,h.jsxs)(ou,{href:"mailto:".concat(S.contact.emails[0].email),$primary:!0,children:[(0,h.jsx)(we.maD,{}),"Email"]}),(null===(r=S.contact)||void 0===r||null===(r=r.mobiles)||void 0===r?void 0:r.length)>0&&(null===(o=S.contact.mobiles[0])||void 0===o?void 0:o.mobile)&&(0,h.jsxs)(ou,{href:"https://wa.me/".concat(S.contact.mobiles[0].mobile.replace(/\D/g,"")),$secondary:!0,children:[(0,h.jsx)(we.Cab,{}),"WhatsApp"]})]})]}),(0,h.jsxs)(iu,{children:[(0,h.jsxs)(au,{children:[(0,h.jsx)(cu,{children:null!==(a=S.contact)&&void 0!==a&&a.profile_image_url?(0,h.jsx)("img",{src:S.contact.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(su,{children:[(0,h.jsxs)(lu,{children:[(0,h.jsxs)(du,{theme:j,children:[null===(c=S.contact)||void 0===c?void 0:c.first_name," ",null===(s=S.contact)||void 0===s?void 0:s.last_name]}),(0,h.jsx)(hu,{theme:j,onClick:function(){return n=S.contact,e="".concat(n.first_name," ").concat(n.last_name),t="obsidian://advanced-uri?vault=".concat(encodeURIComponent("Living with Intention"),"&commandid=workspace%253Anew-file&filename=").concat(encodeURIComponent(e+".md")),window.open(t,"_self"),void d.oR.success("Opening note for ".concat(e),{duration:2e3,icon:"ðŸ“"});var n,e,t},title:"Open Obsidian note for ".concat(null===(l=S.contact)||void 0===l?void 0:l.first_name," ").concat(null===(p=S.contact)||void 0===p?void 0:p.last_name),children:(0,h.jsx)(we.jie,{})})]}),(null===(f=S.contact)||void 0===f?void 0:f.job_role)&&(0,h.jsx)(uu,{theme:j,children:S.contact.job_role})]})]}),(0,h.jsxs)(pu,{theme:j,children:[(0,h.jsx)(fu,{theme:j,children:"Keep in Touch Details"}),(0,h.jsxs)(mu,{children:[(0,h.jsxs)(xu,{children:[(0,h.jsx)(gu,{theme:j,children:"Frequency:"}),(0,h.jsx)(bu,{theme:j,children:S.frequency})]}),(0,h.jsxs)(xu,{children:[(0,h.jsx)(gu,{theme:j,children:"Status:"}),(0,h.jsx)(bu,{theme:j,children:(0,h.jsx)(Rd,{$color:gn(S.daysDifference).color,children:Fn(S.daysDifference)})})]}),S.why_keeping_in_touch&&(0,h.jsxs)(xu,{$fullWidth:!0,children:[(0,h.jsx)(gu,{theme:j,children:"Why keeping in touch:"}),(0,h.jsx)(bu,{theme:j,children:S.why_keeping_in_touch})]}),S.next_follow_up_notes&&(0,h.jsxs)(xu,{$fullWidth:!0,children:[(0,h.jsx)(gu,{theme:j,children:"Next follow-up notes:"}),(0,h.jsx)(bu,{theme:j,children:S.next_follow_up_notes})]})]})]}),(0,h.jsxs)(yu,{children:[(0,h.jsx)(fu,{theme:j,children:"Quick Actions"}),(0,h.jsxs)(vu,{children:[(0,h.jsxs)(ju,{theme:j,onClick:function(){return jn(S)},$color:"#10B981",children:[(0,h.jsx)(wu,{$color:"#10B981",children:(0,h.jsx)(we.CMH,{})}),(0,h.jsx)(_u,{children:"Mark as Done"}),(0,h.jsx)(Au,{theme:j,children:"Record interaction and reset timer"})]}),(0,h.jsxs)(ju,{theme:j,onClick:function(){return yn(S)},$color:"#F59E0B",children:[(0,h.jsx)(wu,{$color:"#F59E0B",children:(0,h.jsx)(we.FaSnooze,{})}),(0,h.jsx)(_u,{children:"Snooze"}),(0,h.jsx)(Au,{theme:j,children:"Postpone follow-up reminder"})]}),(0,h.jsxs)(ju,{theme:j,onClick:function(){return _n(S)},$color:"#EF4444",children:[(0,h.jsx)(wu,{$color:"#EF4444",children:(0,h.jsx)(u.yGN,{})}),(0,h.jsx)(_u,{children:"Remove"}),(0,h.jsx)(Au,{theme:j,children:"Stop keeping in touch"})]})]})]})]})]}):(0,h.jsxs)(jd,{children:[(0,h.jsx)(wd,{theme:j,children:(0,h.jsxs)(_d,{children:[(0,h.jsxs)(Ad,{children:[(0,h.jsx)(Fd,{theme:j,children:"Keep in Touch"}),(0,h.jsxs)(kd,{theme:j,children:[_.length," contact",1!==_.length?"s":""," need",1===_.length?"s":""," follow-up"]})]}),(0,h.jsx)(Cd,{theme:j,onClick:bn,disabled:O,$isRefreshing:O,children:(0,h.jsx)(we.DIg,{})})]})}),k&&(0,h.jsxs)(Ed,{children:[(0,h.jsx)(Sd,{}),(0,h.jsx)(Bd,{theme:j,children:"Loading contacts..."})]}),(0,h.jsxs)(zd,{children:[kn.map((function(n){var e,t,r,o,i,a,c,s=gn(n.daysDifference);return(0,h.jsxs)(Od,{theme:j,$priority:s.level,children:[(0,h.jsxs)($d,{onClick:function(){B(n)},children:[(0,h.jsxs)(Td,{children:[(0,h.jsx)(Dd,{children:null!==(e=n.contact)&&void 0!==e&&e.profile_image_url?(0,h.jsx)("img",{src:n.contact.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(Id,{children:[(0,h.jsxs)(qd,{theme:j,children:[null===(t=n.contact)||void 0===t?void 0:t.first_name," ",null===(r=n.contact)||void 0===r?void 0:r.last_name,(0,h.jsx)(Rd,{$color:s.color,children:s.text})]}),(null===(o=n.contact)||void 0===o?void 0:o.job_role)&&(0,h.jsx)(Md,{theme:j,children:n.contact.job_role}),(null===(i=n.contact)||void 0===i?void 0:i.companies[0])&&(0,h.jsxs)(Nd,{theme:j,children:[(0,h.jsx)(we.ymh,{style:{marginRight:"6px"}}),n.contact.companies[0].name]})]}),(0,h.jsxs)(Pd,{children:[(0,h.jsxs)(Gd,{$color:xn(n.frequency),children:[(0,h.jsx)(u.Ohp,{}),n.frequency]}),(0,h.jsxs)(Wd,{$isOverdue:n.isOverdue,children:[(0,h.jsx)(we.itz,{}),Fn(n.daysDifference)]})]})]}),(0,h.jsxs)(Ld,{children:[n.why_keeping_in_touch&&(0,h.jsxs)(Ud,{theme:j,children:[(0,h.jsx)("strong",{children:"Why:"})," ",n.why_keeping_in_touch]}),n.next_follow_up_notes&&(0,h.jsxs)(Yd,{theme:j,children:[(0,h.jsx)("strong",{children:"Next notes:"})," ",n.next_follow_up_notes]}),(null===(a=n.contact)||void 0===a||null===(a=a.emails)||void 0===a?void 0:a.length)>0&&(null===(c=n.contact.emails[0])||void 0===c?void 0:c.email)&&(0,h.jsxs)(Kd,{theme:j,children:[(0,h.jsx)(we.maD,{}),(0,h.jsx)("span",{children:n.contact.emails[0].email})]})]})]}),(0,h.jsxs)(Hd,{children:[(0,h.jsx)(Xd,{theme:j,onClick:function(e){e.stopPropagation(),jn(n)},$done:!0,title:"Mark as done",children:(0,h.jsx)(we.CMH,{})}),(0,h.jsx)(Xd,{theme:j,onClick:function(e){e.stopPropagation(),yn(n)},$snooze:!0,title:"Snooze",children:(0,h.jsx)(we.FaSnooze,{})}),(0,h.jsx)(Xd,{theme:j,onClick:function(e){var t,r,o;e.stopPropagation(),t=n.contact.contact_id,r="/contacts/workflow/".concat(t,"?step=2"),(o=window.open(r,"_blank"))&&(o.focus(),setTimeout((function(){o.document&&o.document.documentElement&&o.document.documentElement.requestFullscreen?o.document.documentElement.requestFullscreen().catch((function(){o.moveTo(0,0),o.resizeTo(window.screen.availWidth,window.screen.availHeight)})):(o.moveTo(0,0),o.resizeTo(window.screen.availWidth,window.screen.availHeight))}),100))},$edit:!0,title:"Edit contact",children:(0,h.jsx)(we.uO9,{})}),(0,h.jsx)(Xd,{theme:j,onClick:function(e){e.stopPropagation(),_n(n)},$remove:!0,title:"Remove from keep in touch",children:(0,h.jsx)(u.yGN,{})})]})]},n.id)})),!k&&0===_.length&&(0,h.jsxs)(Vd,{children:[(0,h.jsx)(Jd,{children:"ðŸŽ‰"}),(0,h.jsx)(Qd,{theme:j,children:"All caught up!"}),(0,h.jsx)(Zd,{theme:j,children:"No contacts need follow-up right now. Check back later or add more contacts to keep in touch."})]})]})]}),(0,h.jsxs)(Ae(),{isOpen:D,onRequestClose:function(){return I(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"400px",width:"90%",backgroundColor:"light"===j?"#FFFFFF":"#1F2937",border:"1px solid ".concat("light"===j?"#E5E7EB":"#374151"),borderRadius:"12px",color:"light"===j?"#111827":"#F9FAFB"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:[(0,h.jsxs)(Fu,{children:[(0,h.jsx)("h2",{children:"Snooze Contact"}),(0,h.jsx)(ku,{theme:j,onClick:function(){return I(!1)},disabled:L,children:(0,h.jsx)(u.yGN,{})})]}),(0,h.jsxs)(Cu,{theme:j,children:[(0,h.jsxs)("p",{children:["Snooze ",(0,h.jsxs)("strong",{children:[null==q||null===(m=q.contact)||void 0===m?void 0:m.first_name," ",null==q||null===(x=q.contact)||void 0===x?void 0:x.last_name]})," for:"]}),(0,h.jsx)(Eu,{children:[1,3,7,14,30].map((function(n){return(0,h.jsxs)(Su,{theme:j,$selected:N===n,onClick:function(){return G(n)},children:[n," day",1!==n?"s":""]},n)}))})]}),(0,h.jsxs)(zu,{children:[(0,h.jsx)(Ou,{theme:j,onClick:vn,disabled:L,children:L?"Snoozing...":"Snooze"}),(0,h.jsx)($u,{theme:j,onClick:function(){return I(!1)},disabled:L,children:"Cancel"})]})]}),(0,h.jsxs)(Ae(),{isOpen:K,onRequestClose:function(){return H(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"500px",width:"90%",backgroundColor:"light"===j?"#FFFFFF":"#1F2937",border:"1px solid ".concat("light"===j?"#E5E7EB":"#374151"),borderRadius:"12px",color:"light"===j?"#111827":"#F9FAFB"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:[(0,h.jsxs)(Fu,{children:[(0,h.jsx)("h2",{children:"Mark as Done"}),(0,h.jsx)(ku,{theme:j,onClick:function(){return H(!1)},disabled:tn,children:(0,h.jsx)(u.yGN,{})})]}),(0,h.jsxs)(Cu,{theme:j,children:[(0,h.jsxs)("p",{children:["Mark ",(0,h.jsxs)("strong",{children:[null==V||null===(g=V.contact)||void 0===g?void 0:g.first_name," ",null==V||null===(b=V.contact)||void 0===b?void 0:b.last_name]})," as contacted."]}),(0,h.jsx)(Bu,{theme:j,placeholder:"Add notes about this interaction (optional)...",value:Z,onChange:function(n){return nn(n.target.value)},rows:4})]}),(0,h.jsxs)(zu,{children:[(0,h.jsx)(Ou,{theme:j,onClick:wn,disabled:tn,children:tn?"Marking...":"Mark as Done"}),(0,h.jsx)($u,{theme:j,onClick:function(){return H(!1)},disabled:tn,children:"Cancel"})]})]}),(0,h.jsxs)(Ae(),{isOpen:an,onRequestClose:function(){return cn(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"400px",width:"90%",backgroundColor:"light"===j?"#FFFFFF":"#1F2937",border:"1px solid ".concat("light"===j?"#E5E7EB":"#374151"),borderRadius:"12px",color:"light"===j?"#111827":"#F9FAFB"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:[(0,h.jsxs)(Fu,{children:[(0,h.jsx)("h2",{children:"Remove from Keep in Touch"}),(0,h.jsx)(ku,{theme:j,onClick:function(){return cn(!1)},disabled:hn,children:(0,h.jsx)(u.yGN,{})})]}),(0,h.jsxs)(Cu,{theme:j,children:["Remove ",(0,h.jsxs)("strong",{children:[null==ln||null===(y=ln.contact)||void 0===y?void 0:y.first_name," ",null==ln||null===(v=ln.contact)||void 0===v?void 0:v.last_name]})," from keep in touch reminders?"]}),(0,h.jsxs)(zu,{children:[(0,h.jsx)(Ou,{theme:j,onClick:An,disabled:hn,$danger:!0,children:hn?"Removing...":"Remove"}),(0,h.jsx)($u,{theme:j,onClick:function(){return cn(!1)},disabled:hn,children:"Cancel"})]})]})]})};function Du(n){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Du(n)}var Iu,Pu,qu,Ru,Mu,Nu,Gu,Wu,Lu,Uu,Yu,Ku,Hu,Xu,Vu,Ju,Qu,Zu,nh,eh,th,rh,oh,ih,ah,ch,sh,lh,dh,uh,hh,ph,fh,mh,xh,gh,bh,yh,vh,jh,wh,_h,Ah,Fh,kh,Ch,Eh,Sh,Bh,zh,Oh,$h,Th,Dh,Ih,Ph,qh,Rh,Mh,Nh,Gh,Wh,Lh,Uh,Yh,Kh,Hh,Xh,Vh,Jh,Qh,Zh,np;function ep(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function tp(){tp=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(n,e,t,r){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r})}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype);return s(a,"_invoke",function(e,t,r){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var l=d(e,t,r);if("normal"===l.type){if(o=r.done?4:2,l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=4,r.method="throw",r.arg=l.arg)}}}(e,r,new A(o||[])),!0),a}function d(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}e.wrap=l;var u={};function h(){}function p(){}function f(){}var m={};s(m,i,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(F([])));g&&g!==t&&r.call(g,i)&&(m=g);var b=f.prototype=h.prototype=Object.create(m);function y(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function v(n,e){function t(o,i,a,c){var s=d(n[o],n,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Du(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(n){t("next",n,a,c)}),(function(n){t("throw",n,a,c)})):e.resolve(u).then((function(n){l.value=n,a(l)}),(function(n){return t("throw",n,a,c)}))}c(s.arg)}var o;s(this,"_invoke",(function(n,r){function i(){return new e((function(e,o){t(n,r,e,o)}))}return o=o?o.then(i,i):i()}),!0)}function j(e,t){var r=t.method,o=e.i[r];if(o===n)return t.delegate=null,"throw"===r&&e.i.return&&(t.method="return",t.arg=n,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var i=d(o,e.i,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.r]=a.value,t.next=e.n,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(n){this.tryEntries.push(n)}function _(e){var t=e[4]||{};t.type="normal",t.arg=n,e[4]=t}function A(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function F(e){if(null!=e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(Du(e)+" is not iterable")}return p.prototype=f,s(b,"constructor",f),s(f,"constructor",p),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,s(n,c,"GeneratorFunction")),n.prototype=Object.create(b),n},e.awrap=function(n){return{__await:n}},y(v.prototype),s(v.prototype,a,(function(){return this})),e.AsyncIterator=v,e.async=function(n,t,r,o,i){void 0===i&&(i=Promise);var a=new v(l(n,t,r,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(n){var e=Object(n),t=[];for(var r in e)t.unshift(r);return function n(){for(;t.length;)if((r=t.pop())in e)return n.value=r,n.done=!1,n;return n.done=!0,n}},e.values=F,A.prototype={constructor:A,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n){a.type="throw",a.arg=e,t.next=n}for(var o=t.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],c=this.prev,s=i[1],l=i[2];if(-1===i[0])return r("end"),!1;if(!s&&!l)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=c){if(c<s)return this.method="next",this.arg=n,r(s),!0;if(c<l)return r(l),!1}}},abrupt:function(n,e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===n||"continue"===n)&&o[0]<=e&&e<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=e,o?(this.method="next",this.next=o[2],u):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),u},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[2]===n)return this.complete(t[4],t[3]),_(t),u}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t[0]===n){var r=t[4];if("throw"===r.type){var o=r.arg;_(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={i:F(e),r:t,n:r},"next"===this.method&&(this.arg=n),u}},e}function rp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function op(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?rp(Object(t),!0).forEach((function(e){ip(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rp(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function ip(n,e,t){return(e=function(n){var e=function(n){if("object"!=Du(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Du(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Du(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ap(n,e,t,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function cp(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){ap(i,r,o,a,c,"next",n)}function c(n){ap(i,r,o,a,c,"throw",n)}a(void 0)}))}}function sp(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,e)||lp(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lp(n,e){if(n){if("string"==typeof n)return dp(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?dp(n,e):void 0}}function dp(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var up=l.Ay.div(Iu||(Iu=ep(["\n  min-height: 100vh;\n  background: ",";\n  transition: background-color 0.3s ease;\n"])),(function(n){return"light"===n.theme?"#F9FAFB":"#111827"})),hp=l.Ay.div(Pu||(Pu=ep(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]))),pp=l.Ay.div(qu||(qu=ep(["\n  background: ",";\n  border-bottom: 1px solid ",";\n  padding: 24px 20px 0 20px;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),fp=l.Ay.div(Ru||(Ru=ep(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 1200px;\n  margin: 0 auto 20px auto;\n"]))),mp=l.Ay.div(Mu||(Mu=ep(["\n  flex: 1;\n"]))),xp=l.Ay.h1(Nu||(Nu=ep(["\n  font-size: 28px;\n  font-weight: 700;\n  color: ",";\n  margin: 0 0 8px 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),gp=l.Ay.p(Gu||(Gu=ep(["\n  color: ",";\n  margin: 0;\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),bp=l.Ay.button(Wu||(Wu=ep(["\n  background: ",";\n  color: white;\n  border: none;\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  ","\n\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),(function(n){return"light"===n.theme?"#EF4444":"#F87171"}),(function(n){return n.$isRefreshing&&"\n    svg {\n      animation: spin 1s linear infinite;\n    }\n  "})),yp=l.Ay.div(Lu||(Lu=ep(["\n  display: flex;\n  gap: 2px;\n  max-width: 1200px;\n  margin: 0 auto;\n  background: ",";\n  border-radius: 8px;\n  padding: 4px;\n"])),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"})),vp=l.Ay.button(Uu||(Uu=ep(["\n  background: ",";\n  color: ",";\n  border: none;\n  padding: 8px 16px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"])),(function(n){return n.$active?"light"===n.theme?"#FFFFFF":"#1F2937":"transparent"}),(function(n){return n.$active?"light"===n.theme?"#111827":"#F9FAFB":"light"===n.theme?"#6B7280":"#9CA3AF"}),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),jp=l.Ay.span(Yu||(Yu=ep(["\n  background: ",";\n  color: ",";\n  font-size: 12px;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-weight: 600;\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}),(function(n){return"light"===n.theme?"#374151":"#D1D5DB"})),wp=l.Ay.div(Ku||(Ku=ep(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 60px 20px;\n"]))),_p=l.Ay.div(Hu||(Hu=ep(["\n  width: 24px;\n  height: 24px;\n  border: 3px solid #E5E7EB;\n  border-top: 3px solid #EF4444;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n"]))),Ap=l.Ay.span(Xu||(Xu=ep(["\n  color: ",";\n  font-size: 16px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Fp=l.Ay.div(Vu||(Vu=ep(["\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  max-width: 1200px;\n  margin: 0 auto;\n  width: 100%;\n"]))),kp=l.Ay.div(Ju||(Ju=ep(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  transition: all 0.2s ease;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  display: flex;\n  gap: 20px;\n  align-items: flex-start;\n  opacity: 0.8;\n\n  &:hover {\n    opacity: 1;\n    border-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"}),(function(n){return{Skip:"#6B7280","WhatsApp Group Contact":"#10B981",System:"#EF4444"}[n.$category]||("light"===n.theme?"#E5E7EB":"#374151")}),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Cp=l.Ay.div(Qu||(Qu=ep(["\n  flex: 1;\n  cursor: pointer;\n  min-width: 0;\n"]))),Ep=l.Ay.div(Zu||(Zu=ep(["\n  display: flex;\n  align-items: flex-start;\n  gap: 16px;\n  margin-bottom: 16px;\n"]))),Sp=l.Ay.div(nh||(nh=ep(["\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: #F3F4F6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  border: 3px solid #E5E7EB;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9CA3AF;\n    font-size: 24px;\n  }\n"]))),Bp=l.Ay.div(eh||(eh=ep(["\n  flex: 1;\n  min-width: 0;\n"]))),zp=l.Ay.div(th||(th=ep(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 8px;\n  flex-shrink: 0;\n"]))),Op=l.Ay.div(rh||(rh=ep(["\n  font-weight: 600;\n  color: ",";\n  font-size: 18px;\n  margin-bottom: 6px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-wrap: wrap;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),$p=l.Ay.div(oh||(oh=ep(["\n  background: ",";\n  color: white;\n  font-size: 12px;\n  font-weight: 600;\n  padding: 3px 8px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"])),(function(n){return n.$color})),Tp=l.Ay.div(ih||(ih=ep(["\n  color: ",";\n  font-size: 14px;\n  margin-bottom: 4px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Dp=l.Ay.div(ah||(ah=ep(["\n  color: ",";\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  svg {\n    font-size: 12px;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Ip=l.Ay.div(ch||(ch=ep(["\n  background: ",";\n  color: white;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n"])),(function(n){return n.$color})),Pp=l.Ay.div(sh||(sh=ep(["\n  color: ",";\n  font-size: 11px;\n  font-style: italic;\n"])),(function(n){return"light"===n.theme?"#9CA3AF":"#6B7280"})),qp=l.Ay.div(lh||(lh=ep(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),Rp=l.Ay.div(dh||(dh=ep(["\n  color: ",";\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  svg {\n    font-size: 12px;\n    flex-shrink: 0;\n  }\n\n  span {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Mp=l.Ay.div(uh||(uh=ep(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: flex-end;\n"]))),Np=l.Ay.button(hh||(hh=ep(["\n  background: ",";\n  color: white;\n  border: none;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n"])),(function(n){return n.$restore?"#10B981":n.$view?"#3B82F6":n.$delete?"#EF4444":"#6B7280"})),Gp=l.Ay.div(ph||(ph=ep(["\n  text-align: center;\n  padding: 80px 20px;\n"]))),Wp=l.Ay.div(fh||(fh=ep(["\n  font-size: 64px;\n  margin-bottom: 20px;\n"]))),Lp=l.Ay.h3(mh||(mh=ep(["\n  font-size: 20px;\n  font-weight: 600;\n  color: ",";\n  margin: 0 0 12px 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Up=l.Ay.p(xh||(xh=ep(["\n  color: ",";\n  margin: 0;\n  font-size: 16px;\n  line-height: 1.5;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),Yp=l.Ay.div(gh||(gh=ep(["\n  height: 100vh;\n  background: ",";\n  display: flex;\n  flex-direction: column;\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"})),Kp=l.Ay.div(bh||(bh=ep(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid ",";\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: ",";\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"}),(function(n){return"light"===n.theme?"#FFFFFF":"#1F2937"})),Hp=l.Ay.button(yh||(yh=ep(["\n  background: none;\n  border: none;\n  color: ",";\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 0;\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"])),(function(n){return"light"===n.theme?"#EF4444":"#F87171"})),Xp=l.Ay.div(vh||(vh=ep(["\n  display: flex;\n  gap: 8px;\n"]))),Vp=l.Ay.a(jh||(jh=ep(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 12px 20px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  text-decoration: none;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border: none;\n  font-family: inherit;\n\n  ","\n\n  ","\n"])),(function(n){return n.$primary&&"\n    background: #3B82F6;\n    color: white;\n\n    &:hover {\n      background: #2563EB;\n      color: white;\n    }\n  "}),(function(n){return n.$restore&&"\n    background: #10B981;\n    color: white;\n\n    &:hover {\n      background: #059669;\n      color: white;\n    }\n  "})),Jp=l.Ay.div(wh||(wh=ep(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px 20px;\n  max-width: 1000px;\n  margin: 0 auto;\n  width: 100%;\n"]))),Qp=l.Ay.div(_h||(_h=ep(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid ",";\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),Zp=l.Ay.div(Ah||(Ah=ep(["\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: #F3F4F6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 16px;\n  flex-shrink: 0;\n  border: 3px solid #E5E7EB;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  svg {\n    color: #9CA3AF;\n    font-size: 32px;\n  }\n"]))),nf=l.Ay.div(Fh||(Fh=ep(["\n  flex: 1;\n"]))),ef=l.Ay.div(kh||(kh=ep(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 6px;\n  flex-wrap: wrap;\n"]))),tf=l.Ay.h2(Ch||(Ch=ep(["\n  font-size: 24px;\n  font-weight: 700;\n  color: ",";\n  margin: 0;\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),rf=l.Ay.div(Eh||(Eh=ep(["\n  color: ",";\n  font-size: 16px;\n  margin-bottom: 8px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),of=l.Ay.div(Sh||(Sh=ep(["\n  color: ",";\n  font-size: 14px;\n  font-style: italic;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),af=l.Ay.button(Bh||(Bh=ep(["\n  background: #8B5CF6;\n  color: white;\n  border: none;\n  padding: 8px 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n\n  &:hover {\n    background: #7C3AED;\n    transform: translateY(-1px);\n  }\n"]))),cf=l.Ay.div(zh||(zh=ep(["\n  margin-bottom: 32px;\n"]))),sf=l.Ay.h3(Oh||(Oh=ep(["\n  font-size: 18px;\n  font-weight: 600;\n  color: ",";\n  margin: 0 0 16px 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid ",";\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"}),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),lf=l.Ay.div($h||($h=ep(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n"]))),df=l.Ay.button(Th||(Th=ep(["\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 12px;\n  padding: 20px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n\n  &:hover {\n    border-color: ",";\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return"light"===n.theme?"#FFFFFF":"#374151"}),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}),(function(n){return n.$color})),uf=l.Ay.div(Dh||(Dh=ep(["\n  background: ",";\n  color: white;\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n"])),(function(n){return n.$color})),hf=l.Ay.span(Ih||(Ih=ep(["\n  font-size: 16px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),pf=l.Ay.span(Ph||(Ph=ep(["\n  font-size: 14px;\n  color: ",";\n  text-align: center;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),ff=l.Ay.div(qh||(qh=ep(["\n  margin-bottom: 32px;\n"]))),mf=l.Ay.div(Rh||(Rh=ep(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),xf=l.Ay.div(Mh||(Mh=ep(["\n  display: flex;\n  align-items: flex-start;\n"]))),gf=l.Ay.div(Nh||(Nh=ep(["\n  width: 40px;\n  display: flex;\n  justify-content: center;\n  margin-top: 2px;\n  flex-shrink: 0;\n\n  svg {\n    color: #6B7280;\n    font-size: 16px;\n  }\n"]))),bf=l.Ay.div(Gh||(Gh=ep(["\n  flex: 1;\n"]))),yf=l.Ay.div(Wh||(Wh=ep(["\n  font-size: 14px;\n  color: ",";\n  margin-bottom: 2px;\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"})),vf=l.Ay.div(Lh||(Lh=ep(["\n  color: ",";\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n\n  a {\n    color: ",";\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"])),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"})),jf=l.Ay.span(Uh||(Uh=ep(["\n  background: #D1FAE5;\n  color: #065F46;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n"]))),wf=l.Ay.div(Yh||(Yh=ep(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid ",";\n\n  h2 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n  }\n"])),(function(n){return"light"===n.theme?"#E5E7EB":"#374151"})),_f=l.Ay.button(Kh||(Kh=ep(["\n  background: none;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  font-size: 20px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"])),(function(n){return"light"===n.theme?"#6B7280":"#9CA3AF"}),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"})),Af=l.Ay.div(Hh||(Hh=ep(["\n  margin-bottom: 20px;\n  color: ",";\n  line-height: 1.5;\n"])),(function(n){return"light"===n.theme?"#374151":"#D1D5DB"})),Ff=l.Ay.div(Xh||(Xh=ep(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 8px;\n  margin-top: 16px;\n"]))),kf=l.Ay.button(Vh||(Vh=ep(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 12px 16px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n  font-weight: 500;\n\n  &:hover {\n    background: ",";\n    color: white;\n    border-color: ",";\n  }\n"])),(function(n){return n.$selected?"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return n.$selected?"white":"light"===n.theme?"#374151":"#F9FAFB"}),(function(n){return n.$selected?"light"===n.theme?"#3B82F6":"#60A5FA":"light"===n.theme?"#D1D5DB":"#4B5563"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"}),(function(n){return"light"===n.theme?"#3B82F6":"#60A5FA"})),Cf=l.Ay.div(Jh||(Jh=ep(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 12px;\n  border-radius: 8px;\n  margin-bottom: 16px;\n  font-weight: 500;\n  text-align: center;\n"])),(function(n){return"light"===n.theme?"#FEF2F2":"#451A1A"}),(function(n){return"light"===n.theme?"#DC2626":"#F87171"}),(function(n){return"light"===n.theme?"#FECACA":"#7F1D1D"})),Ef=l.Ay.div(Qh||(Qh=ep(["\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n"]))),Sf=l.Ay.button(Zh||(Zh=ep(["\n  background: ",";\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: ",";\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.$danger?"#EF4444":"#3B82F6"}),(function(n){return n.$danger?"#DC2626":"#2563EB"})),Bf=l.Ay.button(np||(np=ep(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: ",";\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#374151":"#F9FAFB"}),(function(n){return"light"===n.theme?"#D1D5DB":"#4B5563"}),(function(n){return"light"===n.theme?"#E5E7EB":"#4B5563"}));const zf=function(n){var e,t,r,o,a,c,s,l=n.theme,p=sp((0,i.useState)([]),2),f=p[0],m=p[1],x=sp((0,i.useState)(!0),2),g=x[0],b=x[1],y=sp((0,i.useState)(null),2),v=y[0],j=y[1],w=sp((0,i.useState)(!1),2),_=w[0],A=w[1],F=sp((0,i.useState)("All"),2),k=F[0],C=F[1],E=sp((0,i.useState)(!1),2),S=E[0],B=E[1],z=sp((0,i.useState)(null),2),O=z[0],$=z[1],T=sp((0,i.useState)(""),2),D=T[0],I=T[1],P=sp((0,i.useState)(!1),2),q=P[0],R=P[1],M=sp((0,i.useState)(!1),2),N=M[0],G=M[1],W=sp((0,i.useState)(null),2),L=W[0],U=W[1],Y=sp((0,i.useState)({}),2),K=Y[0],H=Y[1],X=sp((0,i.useState)({deleteInteractions:!0,deleteEmails:!0,deleteEmailParticipants:!0,deleteEmailThreads:!0,deleteTags:!0,deleteCities:!0,deleteCompanies:!0,deleteNotes:!0,deleteAttachments:!0,deleteContactEmails:!0,deleteContactMobiles:!0,deleteChat:!0,deleteContactChats:!0,deleteDeals:!0,deleteMeetings:!0,deleteInvestments:!0,deleteKit:!0,addToSpam:!0,addMobileToSpam:!0}),2),V=X[0],J=(X[1],sp((0,i.useState)(!1),2)),Q=J[0],Z=J[1],nn=function(){var n=cp(tp().mark((function n(){var e,t,r,o;return tp().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.prev=1,n.next=4,je.from("contacts").select("\n          *,\n          contact_emails (email, type, is_primary),\n          contact_mobiles (mobile, type, is_primary),\n          contact_companies (\n            company_id,\n            relationship,\n            is_primary,\n            companies (name, website, category)\n          ),\n          contact_tags (\n            tags (name)\n          ),\n          contact_cities (\n            cities (name, country)\n          )\n        ").in("category",["Skip","WhatsApp Group Contact","System"]).order("last_interaction_at",{ascending:!1,nullsFirst:!1}).limit(200);case 4:if(e=n.sent,t=e.data,!(r=e.error)){n.next=9;break}throw r;case 9:o=t.map((function(n){var e,t,r;return op(op({},n),{},{emails:n.contact_emails||[],mobiles:n.contact_mobiles||[],companies:(null===(e=n.contact_companies)||void 0===e?void 0:e.map((function(n){return n.companies})).filter(Boolean))||[],tags:(null===(t=n.contact_tags)||void 0===t?void 0:t.map((function(n){var e;return null===(e=n.tags)||void 0===e?void 0:e.name})).filter(Boolean))||[],cities:(null===(r=n.contact_cities)||void 0===r?void 0:r.map((function(n){return n.cities})).filter(Boolean))||[]})})),m(o),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),console.error("Error fetching trashed contacts:",n.t0),d.oR.error("Failed to load trashed contacts");case 17:return n.prev=17,b(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[1,13,17,20]])})));return function(){return n.apply(this,arguments)}}();(0,i.useEffect)((function(){nn();var n=setInterval((function(){nn()}),12e4);return function(){return clearInterval(n)}}),[]);var en=function(){var n=cp(tp().mark((function n(){return tp().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return A(!0),n.next=3,nn();case 3:setTimeout((function(){return A(!1)}),1e3);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),tn=function(n){var e="/contacts/workflow/".concat(n,"?step=2"),t=window.open(e,"_blank");t&&(t.focus(),setTimeout((function(){t.document&&t.document.documentElement&&t.document.documentElement.requestFullscreen?t.document.documentElement.requestFullscreen().catch((function(){t.moveTo(0,0),t.resizeTo(window.screen.availWidth,window.screen.availHeight)})):(t.moveTo(0,0),t.resizeTo(window.screen.availWidth,window.screen.availHeight))}),100))},rn=function(n){$(n),I("Inbox"),B(!0)},on=function(){var n=cp(tp().mark((function n(){var e,t;return tp().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(O&&D){n.next=2;break}return n.abrupt("return");case 2:return R(!0),n.prev=3,n.next=6,je.from("contacts").update({category:D,last_modified_at:(new Date).toISOString()}).eq("contact_id",O.contact_id);case 6:if(e=n.sent,!(t=e.error)){n.next=10;break}throw t;case 10:d.oR.success("Contact restored to ".concat(D)),m((function(n){return n.filter((function(n){return n.contact_id!==O.contact_id}))})),v&&v.contact_id===O.contact_id&&j(null),B(!1),$(null),I(""),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(3),console.error("Error restoring contact:",n.t0),d.oR.error("Failed to restore contact");case 22:return n.prev=22,R(!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[3,18,22,25]])})));return function(){return n.apply(this,arguments)}}(),an=function(){var n=cp(tp().mark((function n(e){var t,r,o,i,a,c,s,l,u,h,p,f,m,x,g,b,y,v,j,w,_,A,F,k;return tp().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return U(e),n.prev=1,n.next=4,Promise.all([Promise.resolve({count:0}),Promise.resolve({count:0}),je.from("interactions").select("interaction_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("emails").select("email_id",{count:"exact",head:!0}).eq("sender_contact_id",e.contact_id),je.from("email_participants").select("participant_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_email_threads").select("email_thread_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_tags").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_cities").select("entry_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_companies").select("contact_companies_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("notes_contacts").select("note_contact_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("attachments").select("attachment_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_emails").select("email_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("contact_mobiles").select("mobile_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("deals_contacts").select("deals_contacts_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("meeting_contacts").select("meeting_contact_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("investments_contacts").select("investments_contacts_id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("keep_in_touch").select("id",{count:"exact",head:!0}).eq("contact_id",e.contact_id),je.from("interactions").select("interaction_id, interaction_type, direction, interaction_date, summary").eq("contact_id",e.contact_id).order("interaction_date",{ascending:!1}).limit(1)]);case 4:t=n.sent,r=sp(t,18),o=r[0],i=r[1],a=r[2],c=r[3],s=r[4],l=r[5],u=r[6],h=r[7],p=r[8],f=r[9],m=r[10],x=r[11],g=r[12],b=r[13],y=r[14],v=r[15],j=r[16],w=r[17],_=null,w.data&&w.data.length>0&&(A=w.data[0],F=new Date(A.interaction_date).toLocaleDateString(),_={summary:"".concat(A.interaction_type," - ").concat(A.summary||"No notes"," (").concat(F,")")}),k={chatCount:o.count||0,contactChatsCount:i.count||0,interactionsCount:a.count||0,emailsCount:c.count||0,emailParticipantsCount:s.count||0,emailThreadsCount:l.count||0,tagsCount:u.count||0,citiesCount:h.count||0,companiesCount:p.count||0,notesCount:f.count||0,attachmentsCount:m.count||0,contactEmailsCount:x.count||0,contactMobilesCount:g.count||0,dealsCount:b.count||0,meetingsCount:y.count||0,investmentsCount:v.count||0,kitCount:j.count||0,lastInteraction:_},H(k),G(!0),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(1),console.error("Error fetching associated data:",n.t0),d.oR.error("Failed to load contact details");case 35:case"end":return n.stop()}}),n,null,[[1,31]])})));return function(e){return n.apply(this,arguments)}}(),cn=function(n){var e,t,r=op(op({},n),{},{email:(null===(e=n.emails)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.email)||null,mobile:(null===(t=n.mobiles)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.mobile)||null});an(r)},sn=function(){var n=cp(tp().mark((function n(){var e,t,r,o,i,a,c;return tp().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(L){n.next=2;break}return n.abrupt("return");case 2:if(n.prev=2,Z(!0),!V.addToSpam||!L.email){n.next=10;break}return n.next=7,je.from("emails_spam").insert([{email:L.email,counter:1}]);case 7:e=n.sent,(t=e.error)&&console.error("Error adding to spam list:",t);case 10:if(!V.addMobileToSpam||!L.mobile){n.next=16;break}return n.next=13,je.from("whatsapp_spam").insert([{mobile_number:L.mobile,counter:1,created_at:(new Date).toISOString(),last_modified_at:(new Date).toISOString()}]);case 13:r=n.sent,(o=r.error)&&console.error("Error adding to WhatsApp spam list:",o);case 16:return i=[],V.deleteInteractions&&K.interactionsCount>0&&i.push(je.from("interactions").delete().eq("contact_id",L.contact_id)),n.next=20,Promise.all(i);case 20:return n.next=22,je.from("contacts").delete().eq("contact_id",L.contact_id);case 22:if(a=n.sent,!(c=a.error)){n.next=26;break}throw c;case 26:d.oR.success("Contact permanently deleted"),m((function(n){return n.filter((function(n){return n.contact_id!==L.contact_id}))})),v&&v.contact_id===L.contact_id&&j(null),G(!1),U(null),H({}),n.next=38;break;case 34:n.prev=34,n.t0=n.catch(2),console.error("Error deleting contact:",n.t0),d.oR.error("Failed to delete contact permanently");case 38:return n.prev=38,Z(!1),n.finish(38);case 41:case"end":return n.stop()}}),n,null,[[2,34,38,41]])})));return function(){return n.apply(this,arguments)}}(),ln=function(n){switch(n){case"Skip":default:return"#6B7280";case"WhatsApp Group Contact":return"#10B981";case"System":return"#EF4444"}},dn=function(n){switch(n){case"Skip":return"â­ï¸";case"WhatsApp Group Contact":return"ðŸ’¬";case"System":return"âš™ï¸";default:return"ðŸ—‘ï¸"}},un=function(n){if(!n)return null;var e=Math.floor((Date.now()-new Date(n).getTime())/864e5);return e<7?{text:"".concat(e,"d ago"),color:"#10B981"}:e<30?{text:"".concat(e,"d ago"),color:"#F59E0B"}:e<90?{text:"".concat(Math.floor(e/30),"m ago"),color:"#EF4444"}:e<365?{text:"".concat(Math.floor(e/30),"m ago"),color:"#6B7280"}:{text:"".concat(Math.floor(e/365),"y ago"),color:"#6B7280"}},hn=(0,i.useMemo)((function(){return"All"===k?f:f.filter((function(n){return n.category===k}))}),[f,k]),pn=(0,i.useMemo)((function(){return(n=hn,function(n){if(Array.isArray(n))return dp(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||lp(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(n,e){return n.last_interaction_at||e.last_interaction_at?n.last_interaction_at?e.last_interaction_at?new Date(e.last_interaction_at)-new Date(n.last_interaction_at):-1:1:new Date(e.created_at)-new Date(n.created_at)}));var n}),[hn]);return(0,h.jsxs)(up,{theme:l,children:[v?(0,h.jsxs)(Yp,{theme:l,children:[(0,h.jsxs)(Kp,{theme:l,children:[(0,h.jsxs)(Hp,{theme:l,onClick:function(){j(null)},children:[(0,h.jsx)(u.IXo,{}),(0,h.jsx)("span",{children:"Back to Trash"})]}),(0,h.jsxs)(Xp,{children:[(0,h.jsxs)(Vp,{theme:l,onClick:function(){return rn(v)},$restore:!0,children:[(0,h.jsx)(we.a0B,{}),"Restore"]}),(null===(e=v.emails)||void 0===e?void 0:e.length)>0&&(null===(t=v.emails[0])||void 0===t?void 0:t.email)&&(0,h.jsxs)(Vp,{href:"mailto:".concat(v.emails[0].email),$primary:!0,children:[(0,h.jsx)(we.maD,{}),"Email"]})]})]}),(0,h.jsxs)(Jp,{children:[(0,h.jsxs)(Qp,{children:[(0,h.jsx)(Zp,{children:v.profile_image_url?(0,h.jsx)("img",{src:v.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(nf,{children:[(0,h.jsxs)(ef,{children:[(0,h.jsxs)(tf,{theme:l,children:[v.first_name," ",v.last_name]}),(0,h.jsxs)($p,{$color:ln(v.category),children:[dn(v.category)," ",v.category]}),(0,h.jsx)(af,{theme:l,onClick:function(){return e="".concat((n=v).first_name," ").concat(n.last_name),t="obsidian://advanced-uri?vault=".concat(encodeURIComponent("Living with Intention"),"&commandid=workspace%253Anew-file&filename=").concat(encodeURIComponent(e+".md")),window.open(t,"_self"),void d.oR.success("Opening note for ".concat(e),{duration:2e3,icon:"ðŸ“"});var n,e,t},title:"Open Obsidian note for ".concat(v.first_name," ").concat(v.last_name),children:(0,h.jsx)(we.jie,{})})]}),v.job_role&&(0,h.jsx)(rf,{theme:l,children:v.job_role}),v.last_interaction_at&&(0,h.jsxs)(of,{theme:l,children:["Last interaction: ",null===(r=un(v.last_interaction_at))||void 0===r?void 0:r.text]})]})]}),(0,h.jsxs)(cf,{children:[(0,h.jsx)(sf,{theme:l,children:"Quick Actions"}),(0,h.jsxs)(lf,{children:[(0,h.jsxs)(df,{theme:l,onClick:function(){return rn(v)},$color:"#10B981",children:[(0,h.jsx)(uf,{$color:"#10B981",children:(0,h.jsx)(we.a0B,{})}),(0,h.jsx)(hf,{children:"Restore Contact"}),(0,h.jsx)(pf,{theme:l,children:"Move back to active contacts"})]}),(0,h.jsxs)(df,{theme:l,onClick:function(){return tn(v.contact_id)},$color:"#3B82F6",children:[(0,h.jsx)(uf,{$color:"#3B82F6",children:(0,h.jsx)(we.Ny1,{})}),(0,h.jsx)(hf,{children:"View Details"}),(0,h.jsx)(pf,{theme:l,children:"Open full contact editor"})]}),(0,h.jsxs)(df,{theme:l,onClick:function(){return cn(v)},$color:"#EF4444",children:[(0,h.jsx)(uf,{$color:"#EF4444",children:(0,h.jsx)(u.IXo,{})}),(0,h.jsx)(hf,{children:"Delete Forever"}),(0,h.jsx)(pf,{theme:l,children:"Permanently remove contact"})]})]})]}),((null===(o=v.emails)||void 0===o?void 0:o.length)>0||(null===(a=v.mobiles)||void 0===a?void 0:a.length)>0)&&(0,h.jsxs)(ff,{children:[(0,h.jsx)(sf,{theme:l,children:"Contact Information"}),(0,h.jsxs)(mf,{children:[null===(c=v.emails)||void 0===c?void 0:c.map((function(n,e){return(0,h.jsxs)(xf,{children:[(0,h.jsx)(gf,{children:(0,h.jsx)(we.maD,{})}),(0,h.jsxs)(bf,{children:[(0,h.jsxs)(yf,{theme:l,children:[n.type," Email"]}),(0,h.jsxs)(vf,{theme:l,children:[(0,h.jsx)("a",{href:"mailto:".concat(n.email),children:n.email}),n.is_primary&&(0,h.jsx)(jf,{children:"Primary"})]})]})]},"email-".concat(e))})),null===(s=v.mobiles)||void 0===s?void 0:s.map((function(n,e){return(0,h.jsxs)(xf,{children:[(0,h.jsx)(gf,{children:(0,h.jsx)(we.Cab,{})}),(0,h.jsxs)(bf,{children:[(0,h.jsxs)(yf,{theme:l,children:[n.type," Phone"]}),(0,h.jsxs)(vf,{theme:l,children:[(0,h.jsx)("a",{href:"https://wa.me/".concat(n.mobile.replace(/\D/g,"")),children:n.mobile}),n.is_primary&&(0,h.jsx)(jf,{children:"Primary"})]})]})]},"mobile-".concat(e))}))]})]})]})]}):(0,h.jsxs)(hp,{children:[(0,h.jsxs)(pp,{theme:l,children:[(0,h.jsxs)(fp,{children:[(0,h.jsxs)(mp,{children:[(0,h.jsx)(xp,{theme:l,children:"Trash"}),(0,h.jsxs)(gp,{theme:l,children:[f.length," contact",1!==f.length?"s":""," in trash â€¢ Review and restore if needed"]})]}),(0,h.jsx)(bp,{theme:l,onClick:en,disabled:_,$isRefreshing:_,children:(0,h.jsx)(we.DIg,{})})]}),(0,h.jsx)(yp,{theme:l,children:["All","Skip","WhatsApp Group Contact","System"].map((function(n){return(0,h.jsxs)(vp,{theme:l,$active:k===n,onClick:function(){return C(n)},children:[dn(n)," ",n,"All"!==n&&(0,h.jsx)(jp,{theme:l,children:f.filter((function(e){return e.category===n})).length})]},n)}))})]}),g&&(0,h.jsxs)(wp,{children:[(0,h.jsx)(_p,{}),(0,h.jsx)(Ap,{theme:l,children:"Loading trashed contacts..."})]}),(0,h.jsxs)(Fp,{children:[pn.map((function(n){var e,t,r,o,i=un(n.last_interaction_at);return(0,h.jsxs)(kp,{theme:l,$category:n.category,children:[(0,h.jsxs)(Cp,{onClick:function(){return function(n){j(n)}(n)},children:[(0,h.jsxs)(Ep,{children:[(0,h.jsx)(Sp,{children:n.profile_image_url?(0,h.jsx)("img",{src:n.profile_image_url,alt:"Profile"}):(0,h.jsx)(we.x$1,{})}),(0,h.jsxs)(Bp,{children:[(0,h.jsxs)(Op,{theme:l,children:[n.first_name," ",n.last_name,(0,h.jsxs)($p,{$color:ln(n.category),children:[dn(n.category)," ",n.category]})]}),n.job_role&&(0,h.jsx)(Tp,{theme:l,children:n.job_role}),n.companies[0]&&(0,h.jsxs)(Dp,{theme:l,children:[(0,h.jsx)(we.ymh,{style:{marginRight:"6px"}}),n.companies[0].name]})]}),(0,h.jsxs)(zp,{children:[i&&(0,h.jsx)(Ip,{$color:i.color,children:i.text}),(0,h.jsxs)(Pp,{theme:l,children:["Trashed: ",new Date(n.last_modified_at||n.created_at).toLocaleDateString()]})]})]}),(0,h.jsxs)(qp,{children:[(null===(e=n.emails)||void 0===e?void 0:e.length)>0&&(null===(t=n.emails[0])||void 0===t?void 0:t.email)&&(0,h.jsxs)(Rp,{theme:l,children:[(0,h.jsx)(we.maD,{}),(0,h.jsx)("span",{children:n.emails[0].email})]}),(null===(r=n.mobiles)||void 0===r?void 0:r.length)>0&&(null===(o=n.mobiles[0])||void 0===o?void 0:o.mobile)&&(0,h.jsxs)(Rp,{theme:l,children:[(0,h.jsx)(we.Cab,{}),(0,h.jsx)("span",{children:n.mobiles[0].mobile})]})]})]}),(0,h.jsxs)(Mp,{children:[(0,h.jsx)(Np,{theme:l,onClick:function(e){e.stopPropagation(),rn(n)},$restore:!0,title:"Restore contact",children:(0,h.jsx)(we.a0B,{})}),(0,h.jsx)(Np,{theme:l,onClick:function(e){e.stopPropagation(),tn(n.contact_id)},$view:!0,title:"View/Edit contact",children:(0,h.jsx)(we.Ny1,{})}),(0,h.jsx)(Np,{theme:l,onClick:function(e){e.stopPropagation(),cn(n)},$delete:!0,title:"Delete permanently",children:(0,h.jsx)(u.IXo,{})})]})]},n.contact_id)})),!g&&0===hn.length&&(0,h.jsxs)(Gp,{children:[(0,h.jsx)(Wp,{children:"ðŸ—‘ï¸"}),(0,h.jsx)(Lp,{theme:l,children:"All"===k?"Trash is empty!":"No ".concat(k," contacts")}),(0,h.jsx)(Up,{theme:l,children:"All"===k?"No contacts have been moved to trash.":"No contacts in the ".concat(k," category.")})]})]})]}),(0,h.jsxs)(Ae(),{isOpen:S,onRequestClose:function(){return B(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"500px",width:"90%",backgroundColor:"light"===l?"#FFFFFF":"#1F2937",border:"1px solid ".concat("light"===l?"#E5E7EB":"#374151"),borderRadius:"12px",color:"light"===l?"#111827":"#F9FAFB"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:[(0,h.jsxs)(wf,{children:[(0,h.jsx)("h2",{children:"Restore Contact"}),(0,h.jsx)(_f,{theme:l,onClick:function(){return B(!1)},disabled:q,children:(0,h.jsx)(u.yGN,{})})]}),(0,h.jsxs)(Af,{theme:l,children:[(0,h.jsxs)("p",{children:["Restore ",(0,h.jsxs)("strong",{children:[null==O?void 0:O.first_name," ",null==O?void 0:O.last_name]})," to:"]}),(0,h.jsx)(Ff,{children:[{value:"Keep in Touch",label:"Keep in Touch"},{value:"Friends",label:"Friends"},{value:"Family",label:"Family"},{value:"Work",label:"Work"},{value:"Business",label:"Business"},{value:"Prospects",label:"Prospects"},{value:"Clients",label:"Clients"},{value:"Inbox",label:"Inbox"}].map((function(n){return(0,h.jsx)(kf,{theme:l,$selected:D===n.value,onClick:function(){return I(n.value)},children:n.label},n.value)}))})]}),(0,h.jsxs)(Ef,{children:[(0,h.jsx)(Sf,{theme:l,onClick:on,disabled:q||!D,children:q?"Restoring...":"Restore"}),(0,h.jsx)(Bf,{theme:l,onClick:function(){return B(!1)},disabled:q,children:"Cancel"})]})]}),(0,h.jsxs)(Ae(),{isOpen:N,onRequestClose:function(){return G(!1)},shouldCloseOnOverlayClick:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"25px",maxWidth:"400px",width:"90%",backgroundColor:"light"===l?"#FFFFFF":"#1F2937",border:"1px solid ".concat("light"===l?"#E5E7EB":"#374151"),borderRadius:"12px",color:"light"===l?"#111827":"#F9FAFB"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:[(0,h.jsxs)(wf,{children:[(0,h.jsx)("h2",{children:"Delete Permanently"}),(0,h.jsx)(_f,{theme:l,onClick:function(){return G(!1)},disabled:Q,children:(0,h.jsx)(u.yGN,{})})]}),(0,h.jsxs)(Af,{theme:l,children:[(0,h.jsx)(Cf,{children:"âš ï¸ This action cannot be undone!"}),(0,h.jsxs)("p",{children:["Permanently delete ",(0,h.jsxs)("strong",{children:[null==L?void 0:L.first_name," ",null==L?void 0:L.last_name]}),"?"]}),(0,h.jsx)("p",{children:"This will also delete:"}),(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:[K.interactionsCount||0," interactions"]}),(0,h.jsxs)("li",{children:[K.emailsCount||0," emails"]}),(0,h.jsxs)("li",{children:[K.notesCount||0," notes"]}),(0,h.jsx)("li",{children:"All associated data"})]})]}),(0,h.jsxs)(Ef,{children:[(0,h.jsx)(Sf,{theme:l,onClick:sn,disabled:Q,$danger:!0,children:Q?"Deleting...":"Delete Forever"}),(0,h.jsx)(Bf,{theme:l,onClick:function(){return G(!1)},disabled:Q,children:"Cancel"})]})]})]})};var Of,$f,Tf,Df;function If(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){l=!0,o=n}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return Pf(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pf(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pf(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function qf(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var Rf=(0,l.DU)(Of||(Of=qf(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n    background: ",";\n    color: ",";\n    transition: background-color 0.3s ease, color 0.3s ease;\n    overflow-x: hidden;\n  }\n\n  #root {\n    min-height: 100vh;\n  }\n\n  /* Custom scrollbar */\n  ::-webkit-scrollbar {\n    width: 6px;\n    height: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n    border-radius: 3px;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background: ",";\n  }\n\n  /* Disable text selection on UI elements */\n  button, nav, .nav-item {\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n"])),(function(n){return"light"===n.theme?"#F9FAFB":"#111827"}),(function(n){return"light"===n.theme?"#111827":"#F9FAFB"}),(function(n){return"light"===n.theme?"#F3F4F6":"#374151"}),(function(n){return"light"===n.theme?"#D1D5DB":"#6B7280"}),(function(n){return n.theme,"#9CA3AF"})),Mf=l.Ay.div($f||($f=qf(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),Nf=l.Ay.main(Tf||(Tf=qf(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n  /* Mobile: Add bottom padding for mobile nav */\n  @media (max-width: 767px) {\n    padding-bottom: 80px;\n  }\n\n  /* Tablet: Add left margin for side nav */\n  @media (min-width: 768px) and (max-width: 1024px) {\n    margin-left: 280px !important;\n  }\n\n  /* Desktop: Add left margin for side nav */\n  @media (min-width: 1025px) {\n    margin-left: "," !important;\n    transition: margin-left 0.3s ease;\n  }\n"])),(function(n){return n.$navCollapsed?"80px":"320px"})),Gf=l.Ay.div(Df||(Df=qf(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n\n  @media (max-width: 767px) {\n    min-height: calc(100vh - 80px);\n  }\n"]))),Wf=function(){var n,e=If((0,i.useState)((function(){return localStorage.getItem("crm-theme")||"light"})),2),t=e[0],r=e[1],o=If((0,i.useState)((function(){var n=localStorage.getItem("crm-nav-collapsed");return!!n&&"true"===n})),2),a=o[0],s=o[1],l=(0,c.zy)(),u=(0,c.Zp)(),p=(n=l.pathname).includes("/inbox")?"inbox":n.includes("/interactions")?"interactions":n.includes("/search")?"search":n.includes("/keep-in-touch")?"keep-in-touch":n.includes("/trash")?"trash":"interactions";return(0,i.useEffect)((function(){var n=function(n){s(n.detail.collapsed),localStorage.setItem("crm-nav-collapsed",n.detail.collapsed.toString())};return window.addEventListener("navCollapseChange",n),function(){return window.removeEventListener("navCollapseChange",n)}}),[]),(0,h.jsxs)(Mf,{theme:t,children:[(0,h.jsx)(Rf,{theme:t}),(0,h.jsx)(bn,{currentPage:p,onNavigate:function(n,e){u(e)},theme:t,onThemeToggle:function(){var n="light"===t?"dark":"light";r(n),localStorage.setItem("crm-theme",n)},onCollapseChange:s,initialCollapsed:a}),(0,h.jsx)(Nf,{$navCollapsed:a,style:{marginLeft:window.innerWidth>=1025?a?"80px":"320px":window.innerWidth>=768?"280px":"0"},children:(0,h.jsx)(Gf,{children:(0,h.jsxs)(c.BV,{children:[(0,h.jsx)(c.qh,{path:"/",element:(0,h.jsx)(c.C5,{to:"/interactions",replace:!0})}),(0,h.jsx)(c.qh,{path:"/inbox",element:(0,h.jsx)(It,{theme:t})}),(0,h.jsx)(c.qh,{path:"/interactions",element:(0,h.jsx)(qi,{theme:t})}),(0,h.jsx)(c.qh,{path:"/search",element:(0,h.jsx)(Hs,{theme:t})}),(0,h.jsx)(c.qh,{path:"/keep-in-touch",element:(0,h.jsx)(Tu,{theme:t})}),(0,h.jsx)(c.qh,{path:"/trash",element:(0,h.jsx)(zf,{theme:t})}),(0,h.jsx)(c.qh,{path:"*",element:(0,h.jsx)(c.C5,{to:"/interactions",replace:!0})})]})})}),(0,h.jsx)(d.l$,{position:"top-center",toastOptions:{style:{background:"light"===t?"#FFFFFF":"#1F2937",color:"light"===t?"#111827":"#F9FAFB",border:"1px solid ".concat("light"===t?"#E5E7EB":"#374151"),borderRadius:"8px",fontSize:"14px",maxWidth:"500px"},success:{duration:3e3,iconTheme:{primary:"light"===t?"#10B981":"#34D399",secondary:"light"===t?"#FFFFFF":"#1F2937"}},error:{duration:4e3,iconTheme:{primary:"light"===t?"#EF4444":"#F87171",secondary:"light"===t?"#FFFFFF":"#1F2937"}}}})]})};const Lf=function(){console.log("NewCRMApp component rendering...");try{return(0,h.jsx)(s.Kd,{basename:"/new-crm",children:(0,h.jsx)(Wf,{})})}catch(n){return console.error("Error in NewCRMApp:",n),(0,h.jsxs)("div",{style:{padding:"20px",color:"red"},children:["Error loading CRM: ",n.message]})}};console.log("New CRM app starting..."),a.createRoot(document.getElementById("root")).render((0,h.jsx)(Lf,{})),console.log("New CRM app rendered")}},n=>{n.O(0,[96],(()=>n(n.s=3743))),n.O()}]);
//# sourceMappingURL=main.7beee796.js.map